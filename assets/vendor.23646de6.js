function Fi(t,e){const i=Object.create(null),o=t.split(",");for(let r=0;r<o.length;r++)i[o[r]]=!0;return e?r=>!!i[r.toLowerCase()]:r=>!!i[r]}const Ys="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$s=Fi(Ys);function Xo(t){return!!t||t===""}function zi(t){if(F(t)){const e={};for(let i=0;i<t.length;i++){const o=t[i],r=ht(o)?Zs(o):zi(o);if(r)for(const s in r)e[s]=r[s]}return e}else{if(ht(t))return t;if(dt(t))return t}}const qs=/;(?![^(]*\))/g,Js=/:(.+)/;function Zs(t){const e={};return t.split(qs).forEach(i=>{if(i){const o=i.split(Js);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function Vi(t){let e="";if(ht(t))e=t;else if(F(t))for(let i=0;i<t.length;i++){const o=Vi(t[i]);o&&(e+=o+" ")}else if(dt(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const Z={},fe=[],Mt=()=>{},Qs=()=>!1,tr=/^on[^a-z]/,ti=t=>tr.test(t),ji=t=>t.startsWith("onUpdate:"),at=Object.assign,Gi=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},er=Object.prototype.hasOwnProperty,U=(t,e)=>er.call(t,e),F=Array.isArray,_e=t=>ei(t)==="[object Map]",ir=t=>ei(t)==="[object Set]",V=t=>typeof t=="function",ht=t=>typeof t=="string",Ui=t=>typeof t=="symbol",dt=t=>t!==null&&typeof t=="object",Ko=t=>dt(t)&&V(t.then)&&V(t.catch),or=Object.prototype.toString,ei=t=>or.call(t),sr=t=>ei(t).slice(8,-1),rr=t=>ei(t)==="[object Object]",Xi=t=>ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ge=Fi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ii=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},nr=/-(\w)/g,ye=ii(t=>t.replace(nr,(e,i)=>i?i.toUpperCase():"")),lr=/\B([A-Z])/g,be=ii(t=>t.replace(lr,"-$1").toLowerCase()),Yo=ii(t=>t.charAt(0).toUpperCase()+t.slice(1)),ci=ii(t=>t?`on${Yo(t)}`:""),Xe=(t,e)=>!Object.is(t,e),ui=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},Ke=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},ar=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let go;const hr=()=>go||(go=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let It;class cr{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&It&&(this.parent=It,this.index=(It.scopes||(It.scopes=[])).push(this)-1)}run(e){if(this.active)try{return It=this,e()}finally{It=this.parent}}on(){It=this}off(){It=this.parent}stop(e){if(this.active){let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.scopes)for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function ur(t,e=It){e&&e.active&&e.effects.push(t)}const Ki=t=>{const e=new Set(t);return e.w=0,e.n=0,e},$o=t=>(t.w&Xt)>0,qo=t=>(t.n&Xt)>0,pr=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Xt},dr=t=>{const{deps:e}=t;if(e.length){let i=0;for(let o=0;o<e.length;o++){const r=e[o];$o(r)&&!qo(r)?r.delete(t):e[i++]=r,r.w&=~Xt,r.n&=~Xt}e.length=i}},Si=new WeakMap;let Be=0,Xt=1;const wi=30;let Lt;const ie=Symbol(""),ki=Symbol("");class Yi{constructor(e,i=null,o){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,ur(this,o)}run(){if(!this.active)return this.fn();let e=Lt,i=Gt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Lt,Lt=this,Gt=!0,Xt=1<<++Be,Be<=wi?pr(this):yo(this),this.fn()}finally{Be<=wi&&dr(this),Xt=1<<--Be,Lt=this.parent,Gt=i,this.parent=void 0}}stop(){this.active&&(yo(this),this.onStop&&this.onStop(),this.active=!1)}}function yo(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let Gt=!0;const Jo=[];function Ce(){Jo.push(Gt),Gt=!1}function xe(){const t=Jo.pop();Gt=t===void 0?!0:t}function bt(t,e,i){if(Gt&&Lt){let o=Si.get(t);o||Si.set(t,o=new Map);let r=o.get(i);r||o.set(i,r=Ki()),Zo(r)}}function Zo(t,e){let i=!1;Be<=wi?qo(t)||(t.n|=Xt,i=!$o(t)):i=!t.has(Lt),i&&(t.add(Lt),Lt.deps.push(t))}function Rt(t,e,i,o,r,s){const n=Si.get(t);if(!n)return;let a=[];if(e==="clear")a=[...n.values()];else if(i==="length"&&F(t))n.forEach((c,f)=>{(f==="length"||f>=o)&&a.push(c)});else switch(i!==void 0&&a.push(n.get(i)),e){case"add":F(t)?Xi(i)&&a.push(n.get("length")):(a.push(n.get(ie)),_e(t)&&a.push(n.get(ki)));break;case"delete":F(t)||(a.push(n.get(ie)),_e(t)&&a.push(n.get(ki)));break;case"set":_e(t)&&a.push(n.get(ie));break}if(a.length===1)a[0]&&Ei(a[0]);else{const c=[];for(const f of a)f&&c.push(...f);Ei(Ki(c))}}function Ei(t,e){for(const i of F(t)?t:[...t])(i!==Lt||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}const fr=Fi("__proto__,__v_isRef,__isVue"),Qo=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(Ui)),gr=$i(),yr=$i(!1,!0),mr=$i(!0),mo=vr();function vr(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const o=Y(this);for(let s=0,n=this.length;s<n;s++)bt(o,"get",s+"");const r=o[e](...i);return r===-1||r===!1?o[e](...i.map(Y)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){Ce();const o=Y(this)[e].apply(this,i);return xe(),o}}),t}function $i(t=!1,e=!1){return function(o,r,s){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(t?e?Ir:ss:e?os:is).get(o))return o;const n=F(o);if(!t&&n&&U(mo,r))return Reflect.get(mo,r,s);const a=Reflect.get(o,r,s);return(Ui(r)?Qo.has(r):fr(r))||(t||bt(o,"get",r),e)?a:lt(a)?!n||!Xi(r)?a.value:a:dt(a)?t?rs(a):Zi(a):a}}const br=ts(),Cr=ts(!0);function ts(t=!1){return function(i,o,r,s){let n=i[o];if(Ie(n)&&lt(n)&&!lt(r))return!1;if(!t&&!Ie(r)&&(ns(r)||(r=Y(r),n=Y(n)),!F(i)&&lt(n)&&!lt(r)))return n.value=r,!0;const a=F(i)&&Xi(o)?Number(o)<i.length:U(i,o),c=Reflect.set(i,o,r,s);return i===Y(s)&&(a?Xe(r,n)&&Rt(i,"set",o,r):Rt(i,"add",o,r)),c}}function xr(t,e){const i=U(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&i&&Rt(t,"delete",e,void 0),o}function Sr(t,e){const i=Reflect.has(t,e);return(!Ui(e)||!Qo.has(e))&&bt(t,"has",e),i}function wr(t){return bt(t,"iterate",F(t)?"length":ie),Reflect.ownKeys(t)}const es={get:gr,set:br,deleteProperty:xr,has:Sr,ownKeys:wr},kr={get:mr,set(t,e){return!0},deleteProperty(t,e){return!0}},Er=at({},es,{get:yr,set:Cr}),qi=t=>t,oi=t=>Reflect.getPrototypeOf(t);function We(t,e,i=!1,o=!1){t=t.__v_raw;const r=Y(t),s=Y(e);e!==s&&!i&&bt(r,"get",e),!i&&bt(r,"get",s);const{has:n}=oi(r),a=o?qi:i?eo:to;if(n.call(r,e))return a(t.get(e));if(n.call(r,s))return a(t.get(s));t!==r&&t.get(e)}function He(t,e=!1){const i=this.__v_raw,o=Y(i),r=Y(t);return t!==r&&!e&&bt(o,"has",t),!e&&bt(o,"has",r),t===r?i.has(t):i.has(t)||i.has(r)}function Fe(t,e=!1){return t=t.__v_raw,!e&&bt(Y(t),"iterate",ie),Reflect.get(t,"size",t)}function vo(t){t=Y(t);const e=Y(this);return oi(e).has.call(e,t)||(e.add(t),Rt(e,"add",t,t)),this}function bo(t,e){e=Y(e);const i=Y(this),{has:o,get:r}=oi(i);let s=o.call(i,t);s||(t=Y(t),s=o.call(i,t));const n=r.call(i,t);return i.set(t,e),s?Xe(e,n)&&Rt(i,"set",t,e):Rt(i,"add",t,e),this}function Co(t){const e=Y(this),{has:i,get:o}=oi(e);let r=i.call(e,t);r||(t=Y(t),r=i.call(e,t)),o&&o.call(e,t);const s=e.delete(t);return r&&Rt(e,"delete",t,void 0),s}function xo(){const t=Y(this),e=t.size!==0,i=t.clear();return e&&Rt(t,"clear",void 0,void 0),i}function ze(t,e){return function(o,r){const s=this,n=s.__v_raw,a=Y(n),c=e?qi:t?eo:to;return!t&&bt(a,"iterate",ie),n.forEach((f,g)=>o.call(r,c(f),c(g),s))}}function Ve(t,e,i){return function(...o){const r=this.__v_raw,s=Y(r),n=_e(s),a=t==="entries"||t===Symbol.iterator&&n,c=t==="keys"&&n,f=r[t](...o),g=i?qi:e?eo:to;return!e&&bt(s,"iterate",c?ki:ie),{next(){const{value:b,done:w}=f.next();return w?{value:b,done:w}:{value:a?[g(b[0]),g(b[1])]:g(b),done:w}},[Symbol.iterator](){return this}}}}function Ft(t){return function(...e){return t==="delete"?!1:this}}function Mr(){const t={get(s){return We(this,s)},get size(){return Fe(this)},has:He,add:vo,set:bo,delete:Co,clear:xo,forEach:ze(!1,!1)},e={get(s){return We(this,s,!1,!0)},get size(){return Fe(this)},has:He,add:vo,set:bo,delete:Co,clear:xo,forEach:ze(!1,!0)},i={get(s){return We(this,s,!0)},get size(){return Fe(this,!0)},has(s){return He.call(this,s,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:ze(!0,!1)},o={get(s){return We(this,s,!0,!0)},get size(){return Fe(this,!0)},has(s){return He.call(this,s,!0)},add:Ft("add"),set:Ft("set"),delete:Ft("delete"),clear:Ft("clear"),forEach:ze(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ve(s,!1,!1),i[s]=Ve(s,!0,!1),e[s]=Ve(s,!1,!0),o[s]=Ve(s,!0,!0)}),[t,i,e,o]}const[Br,Pr,Tr,_r]=Mr();function Ji(t,e){const i=e?t?_r:Tr:t?Pr:Br;return(o,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(U(i,r)&&r in o?i:o,r,s)}const Ar={get:Ji(!1,!1)},Lr={get:Ji(!1,!0)},Or={get:Ji(!0,!1)},is=new WeakMap,os=new WeakMap,ss=new WeakMap,Ir=new WeakMap;function Dr(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rr(t){return t.__v_skip||!Object.isExtensible(t)?0:Dr(sr(t))}function Zi(t){return Ie(t)?t:Qi(t,!1,es,Ar,is)}function Nr(t){return Qi(t,!1,Er,Lr,os)}function rs(t){return Qi(t,!0,kr,Or,ss)}function Qi(t,e,i,o,r){if(!dt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const n=Rr(t);if(n===0)return t;const a=new Proxy(t,n===2?o:i);return r.set(t,a),a}function ge(t){return Ie(t)?ge(t.__v_raw):!!(t&&t.__v_isReactive)}function Ie(t){return!!(t&&t.__v_isReadonly)}function ns(t){return!!(t&&t.__v_isShallow)}function ls(t){return ge(t)||Ie(t)}function Y(t){const e=t&&t.__v_raw;return e?Y(e):t}function as(t){return Ke(t,"__v_skip",!0),t}const to=t=>dt(t)?Zi(t):t,eo=t=>dt(t)?rs(t):t;function Wr(t){Gt&&Lt&&(t=Y(t),Zo(t.dep||(t.dep=Ki())))}function Hr(t,e){t=Y(t),t.dep&&Ei(t.dep)}function lt(t){return!!(t&&t.__v_isRef===!0)}function Fr(t){return lt(t)?t.value:t}const zr={get:(t,e,i)=>Fr(Reflect.get(t,e,i)),set:(t,e,i,o)=>{const r=t[e];return lt(r)&&!lt(i)?(r.value=i,!0):Reflect.set(t,e,i,o)}};function hs(t){return ge(t)?t:new Proxy(t,zr)}class Vr{constructor(e,i,o,r){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Yi(e,()=>{this._dirty||(this._dirty=!0,Hr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const e=Y(this);return Wr(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function jr(t,e,i=!1){let o,r;const s=V(t);return s?(o=t,r=Mt):(o=t.get,r=t.set),new Vr(o,r,s||!r,i)}Promise.resolve();function Ut(t,e,i,o){let r;try{r=o?t(...o):t()}catch(s){si(s,e,i)}return r}function wt(t,e,i,o){if(V(t)){const s=Ut(t,e,i,o);return s&&Ko(s)&&s.catch(n=>{si(n,e,i)}),s}const r=[];for(let s=0;s<t.length;s++)r.push(wt(t[s],e,i,o));return r}function si(t,e,i,o=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const n=e.proxy,a=i;for(;s;){const f=s.ec;if(f){for(let g=0;g<f.length;g++)if(f[g](t,n,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){Ut(c,null,10,[t,n,a]);return}}Gr(t,i,r,o)}function Gr(t,e,i,o=!0){console.error(t)}let Ye=!1,Mi=!1;const vt=[];let Dt=0;const Ae=[];let Pe=null,ue=0;const Le=[];let zt=null,pe=0;const cs=Promise.resolve();let io=null,Bi=null;function Ur(t){const e=io||cs;return t?e.then(this?t.bind(this):t):e}function Xr(t){let e=Dt+1,i=vt.length;for(;e<i;){const o=e+i>>>1;De(vt[o])<t?e=o+1:i=o}return e}function us(t){(!vt.length||!vt.includes(t,Ye&&t.allowRecurse?Dt+1:Dt))&&t!==Bi&&(t.id==null?vt.push(t):vt.splice(Xr(t.id),0,t),ps())}function ps(){!Ye&&!Mi&&(Mi=!0,io=cs.then(gs))}function Kr(t){const e=vt.indexOf(t);e>Dt&&vt.splice(e,1)}function ds(t,e,i,o){F(t)?i.push(...t):(!e||!e.includes(t,t.allowRecurse?o+1:o))&&i.push(t),ps()}function Yr(t){ds(t,Pe,Ae,ue)}function $r(t){ds(t,zt,Le,pe)}function oo(t,e=null){if(Ae.length){for(Bi=e,Pe=[...new Set(Ae)],Ae.length=0,ue=0;ue<Pe.length;ue++)Pe[ue]();Pe=null,ue=0,Bi=null,oo(t,e)}}function fs(t){if(Le.length){const e=[...new Set(Le)];if(Le.length=0,zt){zt.push(...e);return}for(zt=e,zt.sort((i,o)=>De(i)-De(o)),pe=0;pe<zt.length;pe++)zt[pe]();zt=null,pe=0}}const De=t=>t.id==null?1/0:t.id;function gs(t){Mi=!1,Ye=!0,oo(t),vt.sort((i,o)=>De(i)-De(o));const e=Mt;try{for(Dt=0;Dt<vt.length;Dt++){const i=vt[Dt];i&&i.active!==!1&&Ut(i,null,14)}}finally{Dt=0,vt.length=0,fs(),Ye=!1,io=null,(vt.length||Ae.length||Le.length)&&gs(t)}}function qr(t,e,...i){const o=t.vnode.props||Z;let r=i;const s=e.startsWith("update:"),n=s&&e.slice(7);if(n&&n in o){const g=`${n==="modelValue"?"model":n}Modifiers`,{number:b,trim:w}=o[g]||Z;w?r=i.map(I=>I.trim()):b&&(r=i.map(ar))}let a,c=o[a=ci(e)]||o[a=ci(ye(e))];!c&&s&&(c=o[a=ci(be(e))]),c&&wt(c,t,6,r);const f=o[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,wt(f,t,6,r)}}function ys(t,e,i=!1){const o=e.emitsCache,r=o.get(t);if(r!==void 0)return r;const s=t.emits;let n={},a=!1;if(!V(t)){const c=f=>{const g=ys(f,e,!0);g&&(a=!0,at(n,g))};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(o.set(t,null),null):(F(s)?s.forEach(c=>n[c]=null):at(n,s),o.set(t,n),n)}function so(t,e){return!t||!ti(e)?!1:(e=e.slice(2).replace(/Once$/,""),U(t,e[0].toLowerCase()+e.slice(1))||U(t,be(e))||U(t,e))}let Ot=null,ms=null;function $e(t){const e=Ot;return Ot=t,ms=t&&t.type.__scopeId||null,e}function Jr(t,e=Ot,i){if(!e||t._n)return t;const o=(...r)=>{o._d&&Ao(-1);const s=$e(e),n=t(...r);return $e(s),o._d&&Ao(1),n};return o._n=!0,o._c=!0,o._d=!0,o}function pi(t){const{type:e,vnode:i,proxy:o,withProxy:r,props:s,propsOptions:[n],slots:a,attrs:c,emit:f,render:g,renderCache:b,data:w,setupState:I,ctx:G,inheritAttrs:j}=t;let R,z;const ft=$e(t);try{if(i.shapeFlag&4){const q=r||o;R=At(g.call(q,q,b,s,I,w,G)),z=c}else{const q=e;R=At(q.length>1?q(s,{attrs:c,slots:a,emit:f}):q(s,null)),z=e.props?c:Zr(c)}}catch(q){Oe.length=0,si(q,t,1),R=se(Kt)}let $=R;if(z&&j!==!1){const q=Object.keys(z),{shapeFlag:ot}=$;q.length&&ot&7&&(n&&q.some(ji)&&(z=Qr(z,n)),$=me($,z))}return i.dirs&&($.dirs=$.dirs?$.dirs.concat(i.dirs):i.dirs),i.transition&&($.transition=i.transition),R=$,$e(ft),R}const Zr=t=>{let e;for(const i in t)(i==="class"||i==="style"||ti(i))&&((e||(e={}))[i]=t[i]);return e},Qr=(t,e)=>{const i={};for(const o in t)(!ji(o)||!(o.slice(9)in e))&&(i[o]=t[o]);return i};function tn(t,e,i){const{props:o,children:r,component:s}=t,{props:n,children:a,patchFlag:c}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&c>=0){if(c&1024)return!0;if(c&16)return o?So(o,n,f):!!n;if(c&8){const g=e.dynamicProps;for(let b=0;b<g.length;b++){const w=g[b];if(n[w]!==o[w]&&!so(f,w))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===n?!1:o?n?So(o,n,f):!0:!!n;return!1}function So(t,e,i){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(e[s]!==t[s]&&!so(i,s))return!0}return!1}function en({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const on=t=>t.__isSuspense;function sn(t,e){e&&e.pendingBranch?F(t)?e.effects.push(...t):e.effects.push(t):$r(t)}function rn(t,e){if(st){let i=st.provides;const o=st.parent&&st.parent.provides;o===i&&(i=st.provides=Object.create(o)),i[t]=e}}function di(t,e,i=!1){const o=st||Ot;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return i&&V(e)?e.call(o.proxy):e}}const wo={};function fi(t,e,i){return vs(t,e,i)}function vs(t,e,{immediate:i,deep:o,flush:r,onTrack:s,onTrigger:n}=Z){const a=st;let c,f=!1,g=!1;if(lt(t)?(c=()=>t.value,f=ns(t)):ge(t)?(c=()=>t,o=!0):F(t)?(g=!0,f=t.some(ge),c=()=>t.map(z=>{if(lt(z))return z.value;if(ge(z))return de(z);if(V(z))return Ut(z,a,2)})):V(t)?e?c=()=>Ut(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return b&&b(),wt(t,a,3,[w])}:c=Mt,e&&o){const z=c;c=()=>de(z())}let b,w=z=>{b=R.onStop=()=>{Ut(z,a,4)}};if(Re)return w=Mt,e?i&&wt(e,a,3,[c(),g?[]:void 0,w]):c(),Mt;let I=g?[]:wo;const G=()=>{if(!!R.active)if(e){const z=R.run();(o||f||(g?z.some((ft,$)=>Xe(ft,I[$])):Xe(z,I)))&&(b&&b(),wt(e,a,3,[z,I===wo?void 0:I,w]),I=z)}else R.run()};G.allowRecurse=!!e;let j;r==="sync"?j=G:r==="post"?j=()=>yt(G,a&&a.suspense):j=()=>{!a||a.isMounted?Yr(G):G()};const R=new Yi(c,j);return e?i?G():I=R.run():r==="post"?yt(R.run.bind(R),a&&a.suspense):R.run(),()=>{R.stop(),a&&a.scope&&Gi(a.scope.effects,R)}}function nn(t,e,i){const o=this.proxy,r=ht(t)?t.includes(".")?bs(o,t):()=>o[t]:t.bind(o,o);let s;V(e)?s=e:(s=e.handler,i=e);const n=st;ve(this);const a=vs(r,s.bind(o),i);return n?ve(n):re(),a}function bs(t,e){const i=e.split(".");return()=>{let o=t;for(let r=0;r<i.length&&o;r++)o=o[i[r]];return o}}function de(t,e){if(!dt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),lt(t))de(t.value,e);else if(F(t))for(let i=0;i<t.length;i++)de(t[i],e);else if(ir(t)||_e(t))t.forEach(i=>{de(i,e)});else if(rr(t))for(const i in t)de(t[i],e);return t}function ln(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ws(()=>{t.isMounted=!0}),ks(()=>{t.isUnmounting=!0}),t}const St=[Function,Array],an={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},setup(t,{slots:e}){const i=Yn(),o=ln();let r;return()=>{const s=e.default&&xs(e.default(),!0);if(!s||!s.length)return;const n=Y(t),{mode:a}=n,c=s[0];if(o.isLeaving)return gi(c);const f=ko(c);if(!f)return gi(c);const g=Pi(f,n,o,i);Ti(f,g);const b=i.subTree,w=b&&ko(b);let I=!1;const{getTransitionKey:G}=f.type;if(G){const j=G();r===void 0?r=j:j!==r&&(r=j,I=!0)}if(w&&w.type!==Kt&&(!te(f,w)||I)){const j=Pi(w,n,o,i);if(Ti(w,j),a==="out-in")return o.isLeaving=!0,j.afterLeave=()=>{o.isLeaving=!1,i.update()},gi(c);a==="in-out"&&f.type!==Kt&&(j.delayLeave=(R,z,ft)=>{const $=Cs(o,w);$[String(w.key)]=w,R._leaveCb=()=>{z(),R._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=ft})}return c}}},hn=an;function Cs(t,e){const{leavingVNodes:i}=t;let o=i.get(e.type);return o||(o=Object.create(null),i.set(e.type,o)),o}function Pi(t,e,i,o){const{appear:r,mode:s,persisted:n=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:f,onEnterCancelled:g,onBeforeLeave:b,onLeave:w,onAfterLeave:I,onLeaveCancelled:G,onBeforeAppear:j,onAppear:R,onAfterAppear:z,onAppearCancelled:ft}=e,$=String(t.key),q=Cs(i,t),ot=(X,y)=>{X&&wt(X,o,9,y)},Ct={mode:s,persisted:n,beforeEnter(X){let y=a;if(!i.isMounted)if(r)y=j||a;else return;X._leaveCb&&X._leaveCb(!0);const D=q[$];D&&te(t,D)&&D.el._leaveCb&&D.el._leaveCb(),ot(y,[X])},enter(X){let y=c,D=f,H=g;if(!i.isMounted)if(r)y=R||c,D=z||f,H=ft||g;else return;let K=!1;const rt=X._enterCb=Wt=>{K||(K=!0,Wt?ot(H,[X]):ot(D,[X]),Ct.delayedLeave&&Ct.delayedLeave(),X._enterCb=void 0)};y?(y(X,rt),y.length<=1&&rt()):rt()},leave(X,y){const D=String(t.key);if(X._enterCb&&X._enterCb(!0),i.isUnmounting)return y();ot(b,[X]);let H=!1;const K=X._leaveCb=rt=>{H||(H=!0,y(),rt?ot(G,[X]):ot(I,[X]),X._leaveCb=void 0,q[D]===t&&delete q[D])};q[D]=t,w?(w(X,K),w.length<=1&&K()):K()},clone(X){return Pi(X,e,i,o)}};return Ct}function gi(t){if(ri(t))return t=me(t),t.children=null,t}function ko(t){return ri(t)?t.children?t.children[0]:void 0:t}function Ti(t,e){t.shapeFlag&6&&t.component?Ti(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xs(t,e=!1){let i=[],o=0;for(let r=0;r<t.length;r++){const s=t[r];s.type===_t?(s.patchFlag&128&&o++,i=i.concat(xs(s.children,e))):(e||s.type!==Kt)&&i.push(s)}if(o>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}const _i=t=>!!t.type.__asyncLoader,ri=t=>t.type.__isKeepAlive;function cn(t,e){Ss(t,"a",e)}function un(t,e){Ss(t,"da",e)}function Ss(t,e,i=st){const o=t.__wdc||(t.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ni(e,o,i),i){let r=i.parent;for(;r&&r.parent;)ri(r.parent.vnode)&&pn(o,e,i,r),r=r.parent}}function pn(t,e,i,o){const r=ni(e,t,o,!0);Es(()=>{Gi(o[e],r)},i)}function ni(t,e,i=st,o=!1){if(i){const r=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...n)=>{if(i.isUnmounted)return;Ce(),ve(i);const a=wt(e,i,t,n);return re(),xe(),a});return o?r.unshift(s):r.push(s),s}}const Nt=t=>(e,i=st)=>(!Re||t==="sp")&&ni(t,e,i),dn=Nt("bm"),ws=Nt("m"),fn=Nt("bu"),gn=Nt("u"),ks=Nt("bum"),Es=Nt("um"),yn=Nt("sp"),mn=Nt("rtg"),vn=Nt("rtc");function bn(t,e=st){ni("ec",t,e)}let Ai=!0;function Cn(t){const e=Bs(t),i=t.proxy,o=t.ctx;Ai=!1,e.beforeCreate&&Eo(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:n,watch:a,provide:c,inject:f,created:g,beforeMount:b,mounted:w,beforeUpdate:I,updated:G,activated:j,deactivated:R,beforeDestroy:z,beforeUnmount:ft,destroyed:$,unmounted:q,render:ot,renderTracked:Ct,renderTriggered:X,errorCaptured:y,serverPrefetch:D,expose:H,inheritAttrs:K,components:rt,directives:Wt,filters:le}=e;if(f&&xn(f,o,null,t.appContext.config.unwrapInjectedRef),n)for(const tt in n){const J=n[tt];V(J)&&(o[tt]=J.bind(i))}if(r){const tt=r.call(i,i);dt(tt)&&(t.data=Zi(tt))}if(Ai=!0,s)for(const tt in s){const J=s[tt],ct=V(J)?J.bind(i,i):V(J.get)?J.get.bind(i,i):Mt,ke=!V(J)&&V(J.set)?J.set.bind(i):Mt,Yt=tl({get:ct,set:ke});Object.defineProperty(o,tt,{enumerable:!0,configurable:!0,get:()=>Yt.value,set:Ht=>Yt.value=Ht})}if(a)for(const tt in a)Ms(a[tt],o,i,tt);if(c){const tt=V(c)?c.call(i):c;Reflect.ownKeys(tt).forEach(J=>{rn(J,tt[J])})}g&&Eo(g,t,"c");function nt(tt,J){F(J)?J.forEach(ct=>tt(ct.bind(i))):J&&tt(J.bind(i))}if(nt(dn,b),nt(ws,w),nt(fn,I),nt(gn,G),nt(cn,j),nt(un,R),nt(bn,y),nt(vn,Ct),nt(mn,X),nt(ks,ft),nt(Es,q),nt(yn,D),F(H))if(H.length){const tt=t.exposed||(t.exposed={});H.forEach(J=>{Object.defineProperty(tt,J,{get:()=>i[J],set:ct=>i[J]=ct})})}else t.exposed||(t.exposed={});ot&&t.render===Mt&&(t.render=ot),K!=null&&(t.inheritAttrs=K),rt&&(t.components=rt),Wt&&(t.directives=Wt)}function xn(t,e,i=Mt,o=!1){F(t)&&(t=Li(t));for(const r in t){const s=t[r];let n;dt(s)?"default"in s?n=di(s.from||r,s.default,!0):n=di(s.from||r):n=di(s),lt(n)&&o?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):e[r]=n}}function Eo(t,e,i){wt(F(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,i)}function Ms(t,e,i,o){const r=o.includes(".")?bs(i,o):()=>i[o];if(ht(t)){const s=e[t];V(s)&&fi(r,s)}else if(V(t))fi(r,t.bind(i));else if(dt(t))if(F(t))t.forEach(s=>Ms(s,e,i,o));else{const s=V(t.handler)?t.handler.bind(i):e[t.handler];V(s)&&fi(r,s,t)}}function Bs(t){const e=t.type,{mixins:i,extends:o}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:n}}=t.appContext,a=s.get(e);let c;return a?c=a:!r.length&&!i&&!o?c=e:(c={},r.length&&r.forEach(f=>qe(c,f,n,!0)),qe(c,e,n)),s.set(e,c),c}function qe(t,e,i,o=!1){const{mixins:r,extends:s}=e;s&&qe(t,s,i,!0),r&&r.forEach(n=>qe(t,n,i,!0));for(const n in e)if(!(o&&n==="expose")){const a=Sn[n]||i&&i[n];t[n]=a?a(t[n],e[n]):e[n]}return t}const Sn={data:Mo,props:Qt,emits:Qt,methods:Qt,computed:Qt,beforeCreate:pt,created:pt,beforeMount:pt,mounted:pt,beforeUpdate:pt,updated:pt,beforeDestroy:pt,beforeUnmount:pt,destroyed:pt,unmounted:pt,activated:pt,deactivated:pt,errorCaptured:pt,serverPrefetch:pt,components:Qt,directives:Qt,watch:kn,provide:Mo,inject:wn};function Mo(t,e){return e?t?function(){return at(V(t)?t.call(this,this):t,V(e)?e.call(this,this):e)}:e:t}function wn(t,e){return Qt(Li(t),Li(e))}function Li(t){if(F(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function pt(t,e){return t?[...new Set([].concat(t,e))]:e}function Qt(t,e){return t?at(at(Object.create(null),t),e):e}function kn(t,e){if(!t)return e;if(!e)return t;const i=at(Object.create(null),t);for(const o in e)i[o]=pt(t[o],e[o]);return i}function En(t,e,i,o=!1){const r={},s={};Ke(s,li,1),t.propsDefaults=Object.create(null),Ps(t,e,r,s);for(const n in t.propsOptions[0])n in r||(r[n]=void 0);i?t.props=o?r:Nr(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Mn(t,e,i,o){const{props:r,attrs:s,vnode:{patchFlag:n}}=t,a=Y(r),[c]=t.propsOptions;let f=!1;if((o||n>0)&&!(n&16)){if(n&8){const g=t.vnode.dynamicProps;for(let b=0;b<g.length;b++){let w=g[b];const I=e[w];if(c)if(U(s,w))I!==s[w]&&(s[w]=I,f=!0);else{const G=ye(w);r[G]=Oi(c,a,G,I,t,!1)}else I!==s[w]&&(s[w]=I,f=!0)}}}else{Ps(t,e,r,s)&&(f=!0);let g;for(const b in a)(!e||!U(e,b)&&((g=be(b))===b||!U(e,g)))&&(c?i&&(i[b]!==void 0||i[g]!==void 0)&&(r[b]=Oi(c,a,b,void 0,t,!0)):delete r[b]);if(s!==a)for(const b in s)(!e||!U(e,b)&&!0)&&(delete s[b],f=!0)}f&&Rt(t,"set","$attrs")}function Ps(t,e,i,o){const[r,s]=t.propsOptions;let n=!1,a;if(e)for(let c in e){if(Ge(c))continue;const f=e[c];let g;r&&U(r,g=ye(c))?!s||!s.includes(g)?i[g]=f:(a||(a={}))[g]=f:so(t.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,n=!0)}if(s){const c=Y(i),f=a||Z;for(let g=0;g<s.length;g++){const b=s[g];i[b]=Oi(r,c,b,f[b],t,!U(f,b))}}return n}function Oi(t,e,i,o,r,s){const n=t[i];if(n!=null){const a=U(n,"default");if(a&&o===void 0){const c=n.default;if(n.type!==Function&&V(c)){const{propsDefaults:f}=r;i in f?o=f[i]:(ve(r),o=f[i]=c.call(null,e),re())}else o=c}n[0]&&(s&&!a?o=!1:n[1]&&(o===""||o===be(i))&&(o=!0))}return o}function Ts(t,e,i=!1){const o=e.propsCache,r=o.get(t);if(r)return r;const s=t.props,n={},a=[];let c=!1;if(!V(t)){const g=b=>{c=!0;const[w,I]=Ts(b,e,!0);at(n,w),I&&a.push(...I)};!i&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!s&&!c)return o.set(t,fe),fe;if(F(s))for(let g=0;g<s.length;g++){const b=ye(s[g]);Bo(b)&&(n[b]=Z)}else if(s)for(const g in s){const b=ye(g);if(Bo(b)){const w=s[g],I=n[b]=F(w)||V(w)?{type:w}:w;if(I){const G=_o(Boolean,I.type),j=_o(String,I.type);I[0]=G>-1,I[1]=j<0||G<j,(G>-1||U(I,"default"))&&a.push(b)}}}const f=[n,a];return o.set(t,f),f}function Bo(t){return t[0]!=="$"}function Po(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function To(t,e){return Po(t)===Po(e)}function _o(t,e){return F(e)?e.findIndex(i=>To(i,t)):V(e)&&To(e,t)?0:-1}const _s=t=>t[0]==="_"||t==="$stable",ro=t=>F(t)?t.map(At):[At(t)],Bn=(t,e,i)=>{const o=Jr((...r)=>ro(e(...r)),i);return o._c=!1,o},As=(t,e,i)=>{const o=t._ctx;for(const r in t){if(_s(r))continue;const s=t[r];if(V(s))e[r]=Bn(r,s,o);else if(s!=null){const n=ro(s);e[r]=()=>n}}},Ls=(t,e)=>{const i=ro(e);t.slots.default=()=>i},Pn=(t,e)=>{if(t.vnode.shapeFlag&32){const i=e._;i?(t.slots=Y(e),Ke(e,"_",i)):As(e,t.slots={})}else t.slots={},e&&Ls(t,e);Ke(t.slots,li,1)},Tn=(t,e,i)=>{const{vnode:o,slots:r}=t;let s=!0,n=Z;if(o.shapeFlag&32){const a=e._;a?i&&a===1?s=!1:(at(r,e),!i&&a===1&&delete r._):(s=!e.$stable,As(e,r)),n=e}else e&&(Ls(t,e),n={default:1});if(s)for(const a in r)!_s(a)&&!(a in n)&&delete r[a]};function Jt(t,e,i,o){const r=t.dirs,s=e&&e.dirs;for(let n=0;n<r.length;n++){const a=r[n];s&&(a.oldValue=s[n].value);let c=a.dir[o];c&&(Ce(),wt(c,i,8,[t.el,a,t,e]),xe())}}function Os(){return{app:null,config:{isNativeTag:Qs,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _n=0;function An(t,e){return function(o,r=null){r!=null&&!dt(r)&&(r=null);const s=Os(),n=new Set;let a=!1;const c=s.app={_uid:_n++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:el,get config(){return s.config},set config(f){},use(f,...g){return n.has(f)||(f&&V(f.install)?(n.add(f),f.install(c,...g)):V(f)&&(n.add(f),f(c,...g))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,g){return g?(s.components[f]=g,c):s.components[f]},directive(f,g){return g?(s.directives[f]=g,c):s.directives[f]},mount(f,g,b){if(!a){const w=se(o,r);return w.appContext=s,g&&e?e(w,f):t(w,f,b),a=!0,c._container=f,f.__vue_app__=c,ao(w.component)||w.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,g){return s.provides[f]=g,c}};return c}}function Ii(t,e,i,o,r=!1){if(F(t)){t.forEach((w,I)=>Ii(w,e&&(F(e)?e[I]:e),i,o,r));return}if(_i(o)&&!r)return;const s=o.shapeFlag&4?ao(o.component)||o.component.proxy:o.el,n=r?null:s,{i:a,r:c}=t,f=e&&e.r,g=a.refs===Z?a.refs={}:a.refs,b=a.setupState;if(f!=null&&f!==c&&(ht(f)?(g[f]=null,U(b,f)&&(b[f]=null)):lt(f)&&(f.value=null)),V(c))Ut(c,a,12,[n,g]);else{const w=ht(c),I=lt(c);if(w||I){const G=()=>{if(t.f){const j=w?g[c]:c.value;r?F(j)&&Gi(j,s):F(j)?j.includes(s)||j.push(s):w?g[c]=[s]:(c.value=[s],t.k&&(g[t.k]=c.value))}else w?(g[c]=n,U(b,c)&&(b[c]=n)):lt(c)&&(c.value=n,t.k&&(g[t.k]=n))};n?(G.id=-1,yt(G,i)):G()}}}const yt=sn;function Ln(t){return On(t)}function On(t,e){const i=hr();i.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:n,createText:a,createComment:c,setText:f,setElementText:g,parentNode:b,nextSibling:w,setScopeId:I=Mt,cloneNode:G,insertStaticContent:j}=t,R=(h,l,d,m=null,u=null,x=null,E=!1,C=null,S=!!l.dynamicChildren)=>{if(h===l)return;h&&!te(h,l)&&(m=N(h),xt(h,u,x,!0),h=null),l.patchFlag===-2&&(S=!1,l.dynamicChildren=null);const{type:v,ref:L,shapeFlag:B}=l;switch(v){case no:z(h,l,d,m);break;case Kt:ft(h,l,d,m);break;case yi:h==null&&$(l,d,m,E);break;case _t:Wt(h,l,d,m,u,x,E,C,S);break;default:B&1?Ct(h,l,d,m,u,x,E,C,S):B&6?le(h,l,d,m,u,x,E,C,S):(B&64||B&128)&&v.process(h,l,d,m,u,x,E,C,S,ut)}L!=null&&u&&Ii(L,h&&h.ref,x,l||h,!l)},z=(h,l,d,m)=>{if(h==null)o(l.el=a(l.children),d,m);else{const u=l.el=h.el;l.children!==h.children&&f(u,l.children)}},ft=(h,l,d,m)=>{h==null?o(l.el=c(l.children||""),d,m):l.el=h.el},$=(h,l,d,m)=>{[h.el,h.anchor]=j(h.children,l,d,m,h.el,h.anchor)},q=({el:h,anchor:l},d,m)=>{let u;for(;h&&h!==l;)u=w(h),o(h,d,m),h=u;o(l,d,m)},ot=({el:h,anchor:l})=>{let d;for(;h&&h!==l;)d=w(h),r(h),h=d;r(l)},Ct=(h,l,d,m,u,x,E,C,S)=>{E=E||l.type==="svg",h==null?X(l,d,m,u,x,E,C,S):H(h,l,u,x,E,C,S)},X=(h,l,d,m,u,x,E,C)=>{let S,v;const{type:L,props:B,shapeFlag:M,transition:P,patchFlag:A,dirs:O}=h;if(h.el&&G!==void 0&&A===-1)S=h.el=G(h.el);else{if(S=h.el=n(h.type,x,B&&B.is,B),M&8?g(S,h.children):M&16&&D(h.children,S,null,m,u,x&&L!=="foreignObject",E,C),O&&Jt(h,null,m,"created"),B){for(const Q in B)Q!=="value"&&!Ge(Q)&&s(S,Q,null,B[Q],x,h.children,m,u,gt);"value"in B&&s(S,"value",null,B.value),(v=B.onVnodeBeforeMount)&&Tt(v,m,h)}y(S,h,h.scopeId,E,m)}O&&Jt(h,null,m,"beforeMount");const W=(!u||u&&!u.pendingBranch)&&P&&!P.persisted;W&&P.beforeEnter(S),o(S,l,d),((v=B&&B.onVnodeMounted)||W||O)&&yt(()=>{v&&Tt(v,m,h),W&&P.enter(S),O&&Jt(h,null,m,"mounted")},u)},y=(h,l,d,m,u)=>{if(d&&I(h,d),m)for(let x=0;x<m.length;x++)I(h,m[x]);if(u){let x=u.subTree;if(l===x){const E=u.vnode;y(h,E,E.scopeId,E.slotScopeIds,u.parent)}}},D=(h,l,d,m,u,x,E,C,S=0)=>{for(let v=S;v<h.length;v++){const L=h[v]=C?Vt(h[v]):At(h[v]);R(null,L,l,d,m,u,x,E,C)}},H=(h,l,d,m,u,x,E)=>{const C=l.el=h.el;let{patchFlag:S,dynamicChildren:v,dirs:L}=l;S|=h.patchFlag&16;const B=h.props||Z,M=l.props||Z;let P;d&&Zt(d,!1),(P=M.onVnodeBeforeUpdate)&&Tt(P,d,l,h),L&&Jt(l,h,d,"beforeUpdate"),d&&Zt(d,!0);const A=u&&l.type!=="foreignObject";if(v?K(h.dynamicChildren,v,C,d,m,A,x):E||ct(h,l,C,null,d,m,A,x,!1),S>0){if(S&16)rt(C,l,B,M,d,m,u);else if(S&2&&B.class!==M.class&&s(C,"class",null,M.class,u),S&4&&s(C,"style",B.style,M.style,u),S&8){const O=l.dynamicProps;for(let W=0;W<O.length;W++){const Q=O[W],Et=B[Q],he=M[Q];(he!==Et||Q==="value")&&s(C,Q,Et,he,u,h.children,d,m,gt)}}S&1&&h.children!==l.children&&g(C,l.children)}else!E&&v==null&&rt(C,l,B,M,d,m,u);((P=M.onVnodeUpdated)||L)&&yt(()=>{P&&Tt(P,d,l,h),L&&Jt(l,h,d,"updated")},m)},K=(h,l,d,m,u,x,E)=>{for(let C=0;C<l.length;C++){const S=h[C],v=l[C],L=S.el&&(S.type===_t||!te(S,v)||S.shapeFlag&70)?b(S.el):d;R(S,v,L,null,m,u,x,E,!0)}},rt=(h,l,d,m,u,x,E)=>{if(d!==m){for(const C in m){if(Ge(C))continue;const S=m[C],v=d[C];S!==v&&C!=="value"&&s(h,C,v,S,E,l.children,u,x,gt)}if(d!==Z)for(const C in d)!Ge(C)&&!(C in m)&&s(h,C,d[C],null,E,l.children,u,x,gt);"value"in m&&s(h,"value",d.value,m.value)}},Wt=(h,l,d,m,u,x,E,C,S)=>{const v=l.el=h?h.el:a(""),L=l.anchor=h?h.anchor:a("");let{patchFlag:B,dynamicChildren:M,slotScopeIds:P}=l;P&&(C=C?C.concat(P):P),h==null?(o(v,d,m),o(L,d,m),D(l.children,d,L,u,x,E,C,S)):B>0&&B&64&&M&&h.dynamicChildren?(K(h.dynamicChildren,M,d,u,x,E,C),(l.key!=null||u&&l===u.subTree)&&Is(h,l,!0)):ct(h,l,d,L,u,x,E,C,S)},le=(h,l,d,m,u,x,E,C,S)=>{l.slotScopeIds=C,h==null?l.shapeFlag&512?u.ctx.activate(l,d,m,E,S):we(l,d,m,u,x,E,S):nt(h,l,S)},we=(h,l,d,m,u,x,E)=>{const C=h.component=Kn(h,m,u);if(ri(h)&&(C.ctx.renderer=ut),$n(C),C.asyncDep){if(u&&u.registerDep(C,tt),!h.el){const S=C.subTree=se(Kt);ft(null,S,l,d)}return}tt(C,h,l,d,u,x,E)},nt=(h,l,d)=>{const m=l.component=h.component;if(tn(h,l,d))if(m.asyncDep&&!m.asyncResolved){J(m,l,d);return}else m.next=l,Kr(m.update),m.update();else l.component=h.component,l.el=h.el,m.vnode=l},tt=(h,l,d,m,u,x,E)=>{const C=()=>{if(h.isMounted){let{next:L,bu:B,u:M,parent:P,vnode:A}=h,O=L,W;Zt(h,!1),L?(L.el=A.el,J(h,L,E)):L=A,B&&ui(B),(W=L.props&&L.props.onVnodeBeforeUpdate)&&Tt(W,P,L,A),Zt(h,!0);const Q=pi(h),Et=h.subTree;h.subTree=Q,R(Et,Q,b(Et.el),N(Et),h,u,x),L.el=Q.el,O===null&&en(h,Q.el),M&&yt(M,u),(W=L.props&&L.props.onVnodeUpdated)&&yt(()=>Tt(W,P,L,A),u)}else{let L;const{el:B,props:M}=l,{bm:P,m:A,parent:O}=h,W=_i(l);if(Zt(h,!1),P&&ui(P),!W&&(L=M&&M.onVnodeBeforeMount)&&Tt(L,O,l),Zt(h,!0),B&&qt){const Q=()=>{h.subTree=pi(h),qt(B,h.subTree,h,u,null)};W?l.type.__asyncLoader().then(()=>!h.isUnmounted&&Q()):Q()}else{const Q=h.subTree=pi(h);R(null,Q,d,m,h,u,x),l.el=Q.el}if(A&&yt(A,u),!W&&(L=M&&M.onVnodeMounted)){const Q=l;yt(()=>Tt(L,O,Q),u)}l.shapeFlag&256&&h.a&&yt(h.a,u),h.isMounted=!0,l=d=m=null}},S=h.effect=new Yi(C,()=>us(h.update),h.scope),v=h.update=S.run.bind(S);v.id=h.uid,Zt(h,!0),v()},J=(h,l,d)=>{l.component=h;const m=h.vnode.props;h.vnode=l,h.next=null,Mn(h,l.props,m,d),Tn(h,l.children,d),Ce(),oo(void 0,h.update),xe()},ct=(h,l,d,m,u,x,E,C,S=!1)=>{const v=h&&h.children,L=h?h.shapeFlag:0,B=l.children,{patchFlag:M,shapeFlag:P}=l;if(M>0){if(M&128){Yt(v,B,d,m,u,x,E,C,S);return}else if(M&256){ke(v,B,d,m,u,x,E,C,S);return}}P&8?(L&16&&gt(v,u,x),B!==v&&g(d,B)):L&16?P&16?Yt(v,B,d,m,u,x,E,C,S):gt(v,u,x,!0):(L&8&&g(d,""),P&16&&D(B,d,m,u,x,E,C,S))},ke=(h,l,d,m,u,x,E,C,S)=>{h=h||fe,l=l||fe;const v=h.length,L=l.length,B=Math.min(v,L);let M;for(M=0;M<B;M++){const P=l[M]=S?Vt(l[M]):At(l[M]);R(h[M],P,d,null,u,x,E,C,S)}v>L?gt(h,u,x,!0,!1,B):D(l,d,m,u,x,E,C,S,B)},Yt=(h,l,d,m,u,x,E,C,S)=>{let v=0;const L=l.length;let B=h.length-1,M=L-1;for(;v<=B&&v<=M;){const P=h[v],A=l[v]=S?Vt(l[v]):At(l[v]);if(te(P,A))R(P,A,d,null,u,x,E,C,S);else break;v++}for(;v<=B&&v<=M;){const P=h[B],A=l[M]=S?Vt(l[M]):At(l[M]);if(te(P,A))R(P,A,d,null,u,x,E,C,S);else break;B--,M--}if(v>B){if(v<=M){const P=M+1,A=P<L?l[P].el:m;for(;v<=M;)R(null,l[v]=S?Vt(l[v]):At(l[v]),d,A,u,x,E,C,S),v++}}else if(v>M)for(;v<=B;)xt(h[v],u,x,!0),v++;else{const P=v,A=v,O=new Map;for(v=A;v<=M;v++){const mt=l[v]=S?Vt(l[v]):At(l[v]);mt.key!=null&&O.set(mt.key,v)}let W,Q=0;const Et=M-A+1;let he=!1,uo=0;const Ee=new Array(Et);for(v=0;v<Et;v++)Ee[v]=0;for(v=P;v<=B;v++){const mt=h[v];if(Q>=Et){xt(mt,u,x,!0);continue}let Pt;if(mt.key!=null)Pt=O.get(mt.key);else for(W=A;W<=M;W++)if(Ee[W-A]===0&&te(mt,l[W])){Pt=W;break}Pt===void 0?xt(mt,u,x,!0):(Ee[Pt-A]=v+1,Pt>=uo?uo=Pt:he=!0,R(mt,l[Pt],d,null,u,x,E,C,S),Q++)}const po=he?In(Ee):fe;for(W=po.length-1,v=Et-1;v>=0;v--){const mt=A+v,Pt=l[mt],fo=mt+1<L?l[mt+1].el:m;Ee[v]===0?R(null,Pt,d,fo,u,x,E,C,S):he&&(W<0||v!==po[W]?Ht(Pt,d,fo,2):W--)}}},Ht=(h,l,d,m,u=null)=>{const{el:x,type:E,transition:C,children:S,shapeFlag:v}=h;if(v&6){Ht(h.component.subTree,l,d,m);return}if(v&128){h.suspense.move(l,d,m);return}if(v&64){E.move(h,l,d,ut);return}if(E===_t){o(x,l,d);for(let B=0;B<S.length;B++)Ht(S[B],l,d,m);o(h.anchor,l,d);return}if(E===yi){q(h,l,d);return}if(m!==2&&v&1&&C)if(m===0)C.beforeEnter(x),o(x,l,d),yt(()=>C.enter(x),u);else{const{leave:B,delayLeave:M,afterLeave:P}=C,A=()=>o(x,l,d),O=()=>{B(x,()=>{A(),P&&P()})};M?M(x,A,O):O()}else o(x,l,d)},xt=(h,l,d,m=!1,u=!1)=>{const{type:x,props:E,ref:C,children:S,dynamicChildren:v,shapeFlag:L,patchFlag:B,dirs:M}=h;if(C!=null&&Ii(C,null,d,h,!0),L&256){l.ctx.deactivate(h);return}const P=L&1&&M,A=!_i(h);let O;if(A&&(O=E&&E.onVnodeBeforeUnmount)&&Tt(O,l,h),L&6)p(h.component,d,m);else{if(L&128){h.suspense.unmount(d,m);return}P&&Jt(h,null,l,"beforeUnmount"),L&64?h.type.remove(h,l,d,u,ut,m):v&&(x!==_t||B>0&&B&64)?gt(v,l,d,!1,!0):(x===_t&&B&384||!u&&L&16)&&gt(S,l,d),m&&kt(h)}(A&&(O=E&&E.onVnodeUnmounted)||P)&&yt(()=>{O&&Tt(O,l,h),P&&Jt(h,null,l,"unmounted")},d)},kt=h=>{const{type:l,el:d,anchor:m,transition:u}=h;if(l===_t){ae(d,m);return}if(l===yi){ot(h);return}const x=()=>{r(d),u&&!u.persisted&&u.afterLeave&&u.afterLeave()};if(h.shapeFlag&1&&u&&!u.persisted){const{leave:E,delayLeave:C}=u,S=()=>E(d,x);C?C(h.el,x,S):S()}else x()},ae=(h,l)=>{let d;for(;h!==l;)d=w(h),r(h),h=d;r(l)},p=(h,l,d)=>{const{bum:m,scope:u,update:x,subTree:E,um:C}=h;m&&ui(m),u.stop(),x&&(x.active=!1,xt(E,h,l,d)),C&&yt(C,l),yt(()=>{h.isUnmounted=!0},l),l&&l.pendingBranch&&!l.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===l.pendingId&&(l.deps--,l.deps===0&&l.resolve())},gt=(h,l,d,m=!1,u=!1,x=0)=>{for(let E=x;E<h.length;E++)xt(h[E],l,d,m,u)},N=h=>h.shapeFlag&6?N(h.component.subTree):h.shapeFlag&128?h.suspense.next():w(h.anchor||h.el),$t=(h,l,d)=>{h==null?l._vnode&&xt(l._vnode,null,null,!0):R(l._vnode||null,h,l,null,null,null,d),fs(),l._vnode=h},ut={p:R,um:xt,m:Ht,r:kt,mt:we,mc:D,pc:ct,pbc:K,n:N,o:t};let T,qt;return e&&([T,qt]=e(ut)),{render:$t,hydrate:T,createApp:An($t,T)}}function Zt({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Is(t,e,i=!1){const o=t.children,r=e.children;if(F(o)&&F(r))for(let s=0;s<o.length;s++){const n=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Vt(r[s]),a.el=n.el),i||Is(n,a))}}function In(t){const e=t.slice(),i=[0];let o,r,s,n,a;const c=t.length;for(o=0;o<c;o++){const f=t[o];if(f!==0){if(r=i[i.length-1],t[r]<f){e[o]=r,i.push(o);continue}for(s=0,n=i.length-1;s<n;)a=s+n>>1,t[i[a]]<f?s=a+1:n=a;f<t[i[s]]&&(s>0&&(e[o]=i[s-1]),i[s]=o)}}for(s=i.length,n=i[s-1];s-- >0;)i[s]=n,n=e[n];return i}const Dn=t=>t.__isTeleport,Rn=Symbol(),_t=Symbol(void 0),no=Symbol(void 0),Kt=Symbol(void 0),yi=Symbol(void 0),Oe=[];let oe=null;function Rl(t=!1){Oe.push(oe=t?null:[])}function Nn(){Oe.pop(),oe=Oe[Oe.length-1]||null}let Je=1;function Ao(t){Je+=t}function Wn(t){return t.dynamicChildren=Je>0?oe||fe:null,Nn(),Je>0&&oe&&oe.push(t),t}function Nl(t,e,i,o,r,s){return Wn(Rs(t,e,i,o,r,s,!0))}function Hn(t){return t?t.__v_isVNode===!0:!1}function te(t,e){return t.type===e.type&&t.key===e.key}const li="__vInternal",Ds=({key:t})=>t!=null?t:null,Ue=({ref:t,ref_key:e,ref_for:i})=>t!=null?ht(t)||lt(t)||V(t)?{i:Ot,r:t,k:e,f:!!i}:t:null;function Rs(t,e=null,i=null,o=0,r=null,s=t===_t?0:1,n=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ds(e),ref:e&&Ue(e),scopeId:ms,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(lo(c,i),s&128&&t.normalize(c)):i&&(c.shapeFlag|=ht(i)?8:16),Je>0&&!n&&oe&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&oe.push(c),c}const se=Fn;function Fn(t,e=null,i=null,o=0,r=null,s=!1){if((!t||t===Rn)&&(t=Kt),Hn(t)){const a=me(t,e,!0);return i&&lo(a,i),a}if(Qn(t)&&(t=t.__vccOpts),e){e=zn(e);let{class:a,style:c}=e;a&&!ht(a)&&(e.class=Vi(a)),dt(c)&&(ls(c)&&!F(c)&&(c=at({},c)),e.style=zi(c))}const n=ht(t)?1:on(t)?128:Dn(t)?64:dt(t)?4:V(t)?2:0;return Rs(t,e,i,o,r,n,s,!0)}function zn(t){return t?ls(t)||li in t?at({},t):t:null}function me(t,e,i=!1){const{props:o,ref:r,patchFlag:s,children:n}=t,a=e?jn(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ds(a),ref:e&&e.ref?i&&r?F(r)?r.concat(Ue(e)):[r,Ue(e)]:Ue(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:n,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_t?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&me(t.ssContent),ssFallback:t.ssFallback&&me(t.ssFallback),el:t.el,anchor:t.anchor}}function Vn(t=" ",e=0){return se(no,null,t,e)}function At(t){return t==null||typeof t=="boolean"?se(Kt):F(t)?se(_t,null,t.slice()):typeof t=="object"?Vt(t):se(no,null,String(t))}function Vt(t){return t.el===null||t.memo?t:me(t)}function lo(t,e){let i=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(F(e))i=16;else if(typeof e=="object")if(o&65){const r=e.default;r&&(r._c&&(r._d=!1),lo(t,r()),r._c&&(r._d=!0));return}else{i=32;const r=e._;!r&&!(li in e)?e._ctx=Ot:r===3&&Ot&&(Ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else V(e)?(e={default:e,_ctx:Ot},i=32):(e=String(e),o&64?(i=16,e=[Vn(e)]):i=8);t.children=e,t.shapeFlag|=i}function jn(...t){const e={};for(let i=0;i<t.length;i++){const o=t[i];for(const r in o)if(r==="class")e.class!==o.class&&(e.class=Vi([e.class,o.class]));else if(r==="style")e.style=zi([e.style,o.style]);else if(ti(r)){const s=e[r],n=o[r];n&&s!==n&&!(F(s)&&s.includes(n))&&(e[r]=s?[].concat(s,n):n)}else r!==""&&(e[r]=o[r])}return e}function Tt(t,e,i,o=null){wt(t,e,7,[i,o])}const Di=t=>t?Ns(t)?ao(t)||t.proxy:Di(t.parent):null,Ze=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Di(t.parent),$root:t=>Di(t.root),$emit:t=>t.emit,$options:t=>Bs(t),$forceUpdate:t=>()=>us(t.update),$nextTick:t=>Ur.bind(t.proxy),$watch:t=>nn.bind(t)}),Gn={get({_:t},e){const{ctx:i,setupState:o,data:r,props:s,accessCache:n,type:a,appContext:c}=t;let f;if(e[0]!=="$"){const I=n[e];if(I!==void 0)switch(I){case 1:return o[e];case 2:return r[e];case 4:return i[e];case 3:return s[e]}else{if(o!==Z&&U(o,e))return n[e]=1,o[e];if(r!==Z&&U(r,e))return n[e]=2,r[e];if((f=t.propsOptions[0])&&U(f,e))return n[e]=3,s[e];if(i!==Z&&U(i,e))return n[e]=4,i[e];Ai&&(n[e]=0)}}const g=Ze[e];let b,w;if(g)return e==="$attrs"&&bt(t,"get",e),g(t);if((b=a.__cssModules)&&(b=b[e]))return b;if(i!==Z&&U(i,e))return n[e]=4,i[e];if(w=c.config.globalProperties,U(w,e))return w[e]},set({_:t},e,i){const{data:o,setupState:r,ctx:s}=t;return r!==Z&&U(r,e)?(r[e]=i,!0):o!==Z&&U(o,e)?(o[e]=i,!0):U(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:o,appContext:r,propsOptions:s}},n){let a;return!!i[n]||t!==Z&&U(t,n)||e!==Z&&U(e,n)||(a=s[0])&&U(a,n)||U(o,n)||U(Ze,n)||U(r.config.globalProperties,n)},defineProperty(t,e,i){return i.get!=null?this.set(t,e,i.get(),null):i.value!=null&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}},Un=Os();let Xn=0;function Kn(t,e,i){const o=t.type,r=(e?e.appContext:t.appContext)||Un,s={uid:Xn++,vnode:t,type:o,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new cr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ts(o,r),emitsOptions:ys(o,r),emit:null,emitted:null,propsDefaults:Z,inheritAttrs:o.inheritAttrs,ctx:Z,data:Z,props:Z,attrs:Z,slots:Z,refs:Z,setupState:Z,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=qr.bind(null,s),t.ce&&t.ce(s),s}let st=null;const Yn=()=>st||Ot,ve=t=>{st=t,t.scope.on()},re=()=>{st&&st.scope.off(),st=null};function Ns(t){return t.vnode.shapeFlag&4}let Re=!1;function $n(t,e=!1){Re=e;const{props:i,children:o}=t.vnode,r=Ns(t);En(t,i,r,e),Pn(t,o);const s=r?qn(t,e):void 0;return Re=!1,s}function qn(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=as(new Proxy(t.ctx,Gn));const{setup:o}=i;if(o){const r=t.setupContext=o.length>1?Zn(t):null;ve(t),Ce();const s=Ut(o,t,0,[t.props,r]);if(xe(),re(),Ko(s)){if(s.then(re,re),e)return s.then(n=>{Lo(t,n,e)}).catch(n=>{si(n,t,0)});t.asyncDep=s}else Lo(t,s,e)}else Ws(t,e)}function Lo(t,e,i){V(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:dt(e)&&(t.setupState=hs(e)),Ws(t,i)}let Oo;function Ws(t,e,i){const o=t.type;if(!t.render){if(!e&&Oo&&!o.render){const r=o.template;if(r){const{isCustomElement:s,compilerOptions:n}=t.appContext.config,{delimiters:a,compilerOptions:c}=o,f=at(at({isCustomElement:s,delimiters:a},n),c);o.render=Oo(r,f)}}t.render=o.render||Mt}ve(t),Ce(),Cn(t),xe(),re()}function Jn(t){return new Proxy(t.attrs,{get(e,i){return bt(t,"get","$attrs"),e[i]}})}function Zn(t){const e=o=>{t.exposed=o||{}};let i;return{get attrs(){return i||(i=Jn(t))},slots:t.slots,emit:t.emit,expose:e}}function ao(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hs(as(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in Ze)return Ze[i](t)}}))}function Qn(t){return V(t)&&"__vccOpts"in t}const tl=(t,e)=>jr(t,e,Re),el="3.2.31",il="http://www.w3.org/2000/svg",ee=typeof document!="undefined"?document:null,Io=ee&&ee.createElement("template"),ol={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,o)=>{const r=e?ee.createElementNS(il,t):ee.createElement(t,i?{is:i}:void 0);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>ee.createTextNode(t),createComment:t=>ee.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ee.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,i,o,r,s){const n=i?i.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),i),!(r===s||!(r=r.nextSibling)););else{Io.innerHTML=o?`<svg>${t}</svg>`:t;const a=Io.content;if(o){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,i)}return[n?n.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function sl(t,e,i){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}function rl(t,e,i){const o=t.style,r=ht(i);if(i&&!r){for(const s in i)Ri(o,s,i[s]);if(e&&!ht(e))for(const s in e)i[s]==null&&Ri(o,s,"")}else{const s=o.display;r?e!==i&&(o.cssText=i):e&&t.removeAttribute("style"),"_vod"in t&&(o.display=s)}}const Do=/\s*!important$/;function Ri(t,e,i){if(F(i))i.forEach(o=>Ri(t,e,o));else if(e.startsWith("--"))t.setProperty(e,i);else{const o=nl(t,e);Do.test(i)?t.setProperty(be(o),i.replace(Do,""),"important"):t[o]=i}}const Ro=["Webkit","Moz","ms"],mi={};function nl(t,e){const i=mi[e];if(i)return i;let o=ye(e);if(o!=="filter"&&o in t)return mi[e]=o;o=Yo(o);for(let r=0;r<Ro.length;r++){const s=Ro[r]+o;if(s in t)return mi[e]=s}return e}const No="http://www.w3.org/1999/xlink";function ll(t,e,i,o,r){if(o&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(No,e.slice(6,e.length)):t.setAttributeNS(No,e,i);else{const s=$s(e);i==null||s&&!Xo(i)?t.removeAttribute(e):t.setAttribute(e,s?"":i)}}function al(t,e,i,o,r,s,n){if(e==="innerHTML"||e==="textContent"){o&&n(o,r,s),t[e]=i==null?"":i;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=i;const a=i==null?"":i;(t.value!==a||t.tagName==="OPTION")&&(t.value=a),i==null&&t.removeAttribute(e);return}if(i===""||i==null){const a=typeof t[e];if(a==="boolean"){t[e]=Xo(i);return}else if(i==null&&a==="string"){t[e]="",t.removeAttribute(e);return}else if(a==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=i}catch{}}let Qe=Date.now,Hs=!1;if(typeof window!="undefined"){Qe()>document.createEvent("Event").timeStamp&&(Qe=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Hs=!!(t&&Number(t[1])<=53)}let Ni=0;const hl=Promise.resolve(),cl=()=>{Ni=0},ul=()=>Ni||(hl.then(cl),Ni=Qe());function pl(t,e,i,o){t.addEventListener(e,i,o)}function dl(t,e,i,o){t.removeEventListener(e,i,o)}function fl(t,e,i,o,r=null){const s=t._vei||(t._vei={}),n=s[e];if(o&&n)n.value=o;else{const[a,c]=gl(e);if(o){const f=s[e]=yl(o,r);pl(t,a,f,c)}else n&&(dl(t,a,n,c),s[e]=void 0)}}const Wo=/(?:Once|Passive|Capture)$/;function gl(t){let e;if(Wo.test(t)){e={};let i;for(;i=t.match(Wo);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[be(t.slice(2)),e]}function yl(t,e){const i=o=>{const r=o.timeStamp||Qe();(Hs||r>=i.attached-1)&&wt(ml(o,i.value),e,5,[o])};return i.value=t,i.attached=ul(),i}function ml(t,e){if(F(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(o=>r=>!r._stopped&&o&&o(r))}else return e}const Ho=/^on[a-z]/,vl=(t,e,i,o,r=!1,s,n,a,c)=>{e==="class"?sl(t,o,r):e==="style"?rl(t,i,o):ti(e)?ji(e)||fl(t,e,i,o,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bl(t,e,o,r))?al(t,e,o,s,n,a,c):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),ll(t,e,o,r))};function bl(t,e,i,o){return o?!!(e==="innerHTML"||e==="textContent"||e in t&&Ho.test(e)&&V(i)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ho.test(e)&&ht(i)?!1:e in t}const Cl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};hn.props;const xl=at({patchProp:vl},ol);let Fo;function Sl(){return Fo||(Fo=Ln(xl))}const Wl=(...t)=>{const e=Sl().createApp(...t),{mount:i}=e;return e.mount=o=>{const r=wl(o);if(!r)return;const s=e._component;!V(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const n=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),n},e};function wl(t){return ht(t)?document.querySelector(t):t}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fs=function(t,e){return(Fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])})(t,e)};function et(t,e){function i(){this.constructor=t}Fs(t,e),t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function zo(t,e,i,o){return new(i||(i=Promise))(function(r,s){function n(f){try{c(o.next(f))}catch(g){s(g)}}function a(f){try{c(o.throw(f))}catch(g){s(g)}}function c(f){var g;f.done?r(f.value):(g=f.value,g instanceof i?g:new i(function(b){b(g)})).then(n,a)}c((o=o.apply(t,e||[])).next())})}function Vo(t,e){var i,o,r,s,n={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(f){return function(g){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(r=2&g[0]?o.return:g[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,g[1])).done)return r;switch(o=0,r&&(g=[2&g[0],r.value]),g[0]){case 0:case 1:r=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!((r=r.length>0&&r[r.length-1])||g[0]!==6&&g[0]!==2)){n=0;continue}if(g[0]===3&&(!r||g[1]>r[0]&&g[1]<r[3])){n.label=g[1];break}if(g[0]===6&&n.label<r[1]){n.label=r[1],r=g;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(g);break}r[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(t,n)}catch(b){g=[6,b],o=0}finally{i=r=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([c,f])}}}function jo(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],n=0,a=s.length;n<a;n++,r++)o[r]=s[n];return o}var k=function(){function t(){}return t.createDefs=function(){return document.createElementNS("http://www.w3.org/2000/svg","defs")},t.setAttributes=function(e,i){for(var o=0,r=i;o<r.length;o++){var s=r[o],n=s[0],a=s[1];e.setAttribute(n,a)}},t.createRect=function(e,i,o){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");return r.setAttribute("width",e.toString()),r.setAttribute("height",i.toString()),o&&t.setAttributes(r,o),r},t.createLine=function(e,i,o,r,s){var n=document.createElementNS("http://www.w3.org/2000/svg","line");return n.setAttribute("x1",e.toString()),n.setAttribute("y1",i.toString()),n.setAttribute("x2",o.toString()),n.setAttribute("y2",r.toString()),s&&t.setAttributes(n,s),n},t.createPolygon=function(e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");return o.setAttribute("points",e),i&&t.setAttributes(o,i),o},t.createCircle=function(e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","circle");return o.setAttribute("cx",(e/2).toString()),o.setAttribute("cy",(e/2).toString()),o.setAttribute("r",e.toString()),i&&t.setAttributes(o,i),o},t.createEllipse=function(e,i,o){var r=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return r.setAttribute("cx",(e/2).toString()),r.setAttribute("cy",(i/2).toString()),r.setAttribute("rx",(e/2).toString()),r.setAttribute("ry",(i/2).toString()),o&&t.setAttributes(r,o),r},t.createGroup=function(e){var i=document.createElementNS("http://www.w3.org/2000/svg","g");return e&&t.setAttributes(i,e),i},t.createTransform=function(){return document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGTransform()},t.createMarker=function(e,i,o,r,s,n,a){var c=document.createElementNS("http://www.w3.org/2000/svg","marker");return t.setAttributes(c,[["id",e],["orient",i],["markerWidth",o.toString()],["markerHeight",r.toString()],["refX",s.toString()],["refY",n.toString()]]),c.appendChild(a),c},t.createText=function(e){var i=document.createElementNS("http://www.w3.org/2000/svg","text");return i.setAttribute("x","0"),i.setAttribute("y","0"),e&&t.setAttributes(i,e),i},t.createTSpan=function(e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","tspan");return o.textContent=e,i&&t.setAttributes(o,i),o},t.createImage=function(e){var i=document.createElementNS("http://www.w3.org/2000/svg","image");return e&&t.setAttributes(i,e),i},t.createPoint=function(e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGPoint();return o.x=e,o.y=i,o},t.createPath=function(e,i){var o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",e),i&&t.setAttributes(o,i),o},t}(),Go=function(){function t(){}return t.addKey=function(e){t.key=e},Object.defineProperty(t,"isLicensed",{get:function(){return!!t.key&&new RegExp(/^MJS2-[A-Z][0-9]{3}-[A-Z][0-9]{3}-[0-9]{4}$/,"i").test(t.key)},enumerable:!1,configurable:!0}),t}(),kl=function(){function t(){this.naturalSize=!1,this.imageType="image/png",this.markersOnly=!1}return t.prototype.rasterize=function(e,i,o){var r=this;return new Promise(function(s){var n=o!==void 0?o:document.createElement("canvas");e===null&&(r.markersOnly=!0,r.naturalSize=!1);var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("width",i.width.baseVal.valueAsString),a.setAttribute("height",i.height.baseVal.valueAsString),a.setAttribute("viewBox","0 0 "+i.viewBox.baseVal.width.toString()+" "+i.viewBox.baseVal.height.toString()),a.innerHTML=i.innerHTML,r.naturalSize===!0?(a.width.baseVal.value=e.naturalWidth,a.height.baseVal.value=e.naturalHeight):r.width!==void 0&&r.height!==void 0&&(a.width.baseVal.value=r.width,a.height.baseVal.value=r.height),n.width=a.width.baseVal.value,n.height=a.height.baseVal.value;var c=a.outerHTML,f=n.getContext("2d");r.markersOnly!==!0&&f.drawImage(e,0,0,n.width,n.height);var g=window.URL,b=new Image(n.width,n.height);b.setAttribute("crossOrigin","anonymous");var w=new Blob([c],{type:"image/svg+xml"}),I=g.createObjectURL(w);b.onload=function(){f.drawImage(b,0,0),g.revokeObjectURL(I);var G=n.toDataURL(r.imageType,r.imageQuality);s(G)},b.src=I})},t}(),_=function(){function t(){}return Object.defineProperty(t,"defaultSettings",{get:function(){return{canvasBackgroundColor:"#ffffff",toolbarBackgroundColor:"#111111",toolbarBackgroundHoverColor:"#333333",toolbarColor:"#eeeeee",toolbarHeight:40,toolboxColor:"#eeeeee",toolboxAccentColor:"#3080c3",undoButtonVisible:!0,redoButtonVisible:!1,zoomButtonVisible:!1,zoomOutButtonVisible:!1,clearButtonVisible:!1,resultButtonBlockVisible:!0,logoPosition:"left"}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fadeInAnimationClassName",{get:function(){return t.CLASS_PREFIX+"fade_in"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fadeOutAnimationClassName",{get:function(){return t.CLASS_PREFIX+"fade_out"},enumerable:!1,configurable:!0}),t.addClass=function(e){return t.styleSheet===void 0&&t.addStyleSheet(),t.classes.push(e),t.styleSheet.sheet.insertRule("."+e.name+" {"+e.style+"}",t.styleSheet.sheet.cssRules.length),e},t.addRule=function(e){t.styleSheet===void 0&&t.addStyleSheet(),t.rules.push(e),t.styleSheet.sheet.insertRule(e.selector+" {"+e.style+"}",t.styleSheet.sheet.cssRules.length)},t.addStyleSheet=function(){var e;t.styleSheet=document.createElement("style"),((e=t.styleSheetRoot)!==null&&e!==void 0?e:document.head).appendChild(t.styleSheet),t.addRule(new ne("."+t.CLASS_PREFIX+" h3","font-family: sans-serif")),t.addRule(new ne("@keyframes "+t.CLASS_PREFIX+"_fade_in_animation_frames",`
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
    `)),t.addRule(new ne("@keyframes "+t.CLASS_PREFIX+"_fade_out_animation_frames",`
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
    `)),t.addClass(new it("fade_in",`
      animation-duration: 0.3s;
      animation-name: `+t.CLASS_PREFIX+`_fade_in_animation_frames;
    `)),t.addClass(new it("fade_out",`
      animation-duration: 0.3s;
      animation-name: `+t.CLASS_PREFIX+`_fade_out_animation_frames;
    `))},t.removeStyleSheet=function(){var e;t.styleSheet&&(((e=t.styleSheetRoot)!==null&&e!==void 0?e:document.head).removeChild(t.styleSheet),t.styleSheet=void 0)},t.CLASS_PREFIX="__markerjs2_",t.classes=[],t.rules=[],t.settings=t.defaultSettings,t}(),ne=function(t,e){this.selector=t,this.style=e},it=function(){function t(e,i){this._localName=e,this.style=i}return Object.defineProperty(t.prototype,"name",{get:function(){return""+_.CLASS_PREFIX+this._localName},enumerable:!1,configurable:!0}),t}(),El=function(){function t(e,i,o,r){this.buttons=[],this.markerButtons=[],this.buttonClickListeners=[],this.markerjsContainer=e,this.displayMode=i,this.markerItems=o,this.uiStyleSettings=r,this.addStyles(),this.adjustLayout=this.adjustLayout.bind(this),this.overflowButtonClicked=this.overflowButtonClicked.bind(this),this.setCurrentMarker=this.setCurrentMarker.bind(this)}return t.prototype.show=function(e){var i=this;this.uiContainer=document.createElement("div"),this.uiContainer.style.visibility=e,this.uiContainer.className=this.toolbarStyleClass.name+" "+_.fadeInAnimationClassName+" "+(this.uiStyleSettings.toolbarStyleColorsClassName?this.uiStyleSettings.toolbarStyleColorsClassName:this.toolbarStyleColorsClass.name);var o=document.createElement("div");o.className=this.toolbarBlockStyleClass.name,o.style.whiteSpace="nowrap",this.uiContainer.appendChild(o),this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M10.07 14.27a.997.997 0 011.33.48l2.3 4.99 1.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08 2.3-.45L8 5.12V15.9l1.82-1.47.25-.16m3.57 7.7a.99.99 0 01-1.33-.47l-2.18-4.74-2.51 2.02c-.17.14-.38.22-.62.22a1 1 0 01-1-1V3a1 1 0 011-1c.24 0 .47.09.64.23l.01-.01 11.49 9.64a1.001 1.001 0 01-.44 1.75l-3.16.62 2.2 4.73c.26.5.02 1.09-.48 1.32l-3.62 1.69z"/></svg>',"select"),this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M9 3v1H4v2h1v13a2 2 0 002 2h10a2 2 0 002-2V6h1V4h-5V3H9M7 6h10v13H7V6m2 2v9h2V8H9m4 0v9h2V8h-2z"/></svg>',"delete"),this.uiStyleSettings.clearButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M19.36 2.72l1.42 1.42-5.72 5.71c1.07 1.54 1.22 3.39.32 4.59L9.06 8.12c1.2-.9 3.05-.75 4.59.32l5.71-5.72M5.93 17.57c-2.01-2.01-3.24-4.41-3.58-6.65l4.88-2.09 7.44 7.44-2.09 4.88c-2.24-.34-4.64-1.57-6.65-3.58z"/></svg>',"clear"),this.uiStyleSettings.undoButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05 1-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>',"undo"),this.uiStyleSettings.redoButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 9 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 017.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>',"redo"),this.uiStyleSettings.zoomButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M15.5 14l5 5-1.5 1.5-5-5v-.79l-.27-.28A6.471 6.471 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3 6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.57 4.23l.28.27h.79m-6 0C12 14 14 12 14 9.5S12 5 9.5 5 5 7 5 9.5 7 14 9.5 14m2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z"/></svg>',"zoom"),this.uiStyleSettings.zoomButtonVisible&&this.uiStyleSettings.zoomOutButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 009.5 3 6.5 6.5 0 003 9.5 6.5 6.5 0 009.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.5-1.5-5-5m-6 0C7 14 5 12 5 9.5S7 5 9.5 5 14 7 14 9.5 12 14 9.5 14M7 9h5v1H7V9z"/></svg>',"zoom-out"),this.uiStyleSettings.notesButtonVisible&&this.addActionButton(o,'<svg viewBox="0 0 24 24"><path d="M18.13 12l1.26-1.26c.44-.44 1-.68 1.61-.74V9l-6-6H5c-1.11 0-2 .89-2 2v14a2 2 0 002 2h6v-1.87l.13-.13H5V5h7v7h6.13M14 4.5l5.5 5.5H14V4.5m5.13 9.33l2.04 2.04L15.04 22H13v-2.04l6.13-6.13m3.72.36l-.98.98-2.04-2.04.98-.98c.19-.2.52-.2.72 0l1.32 1.32c.2.2.2.53 0 .72z"/></svg>',"notes"),this.markerButtonBlock=document.createElement("div"),this.markerButtonBlock.className=this.toolbarBlockStyleClass.name,this.markerButtonBlock.style.flexGrow="2",this.markerButtonBlock.style.textAlign="center",this.uiContainer.appendChild(this.markerButtonBlock),this.markerButtonOverflowBlock=document.createElement("div"),this.markerButtonOverflowBlock.className=this.toolbarOverflowBlockStyleClass.name+" "+(this.uiStyleSettings.toolbarOverflowBlockStyleColorsClassName?this.uiStyleSettings.toolbarOverflowBlockStyleColorsClassName:this.toolbarOverflowBlockStyleColorsClass.name),this.markerButtonOverflowBlock.style.display="none",this.uiContainer.appendChild(this.markerButtonOverflowBlock),this.markerItems&&(this.markerItems.forEach(function(s){var n=document.createElement("div");n.className=""+i.toolbarButtonStyleClass.name,n.setAttribute("data-type-name",s.typeName),n.innerHTML=s.icon,n.addEventListener("click",function(){i.markerToolbarButtonClicked(n,s)}),i.buttons.push(n),i.markerButtons.push(n)}),this.overflowButton=document.createElement("div"),this.overflowButton.className=this.toolbarButtonStyleClass.name+" "+(this.uiStyleSettings.toolbarButtonStyleColorsClassName?this.uiStyleSettings.toolbarButtonStyleColorsClassName:this.toolbarButtonStyleColorsClass.name),this.overflowButton.innerHTML='<svg viewBox="0 0 24 24"><path d="M12 16a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2m0-6a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2 2 2 0 012-2z"/></svg>',this.overflowButton.addEventListener("click",this.overflowButtonClicked),this.markerButtonBlock.appendChild(this.overflowButton));var r=document.createElement("div");r.className=this.toolbarBlockStyleClass.name,r.style.whiteSpace="nowrap",r.style.display=this.uiStyleSettings.resultButtonBlockVisible!==!1?"":"none",this.uiContainer.appendChild(r),this.addActionButton(r,'<svg viewBox="0 0 24 24"><path d="M9 20.42l-6.21-6.21 2.83-2.83L9 14.77l9.88-9.89 2.83 2.83L9 20.42z"/></svg>',"render"),this.addActionButton(r,'<svg viewBox="0 0 24 24"><path d="M20 6.91L17.09 4 12 9.09 6.91 4 4 6.91 9.09 12 4 17.09 6.91 20 12 14.91 17.09 20 20 17.09 14.91 12 20 6.91z"/></svg>',"close"),this.markerjsContainer.appendChild(this.uiContainer),this.setSelectMode(),this.setCurrentMarker(),this.adjustLayout()},t.prototype.addButtonClickListener=function(e){this.buttonClickListeners.push(e)},t.prototype.removeButtonClickListener=function(e){this.buttonClickListeners.indexOf(e)>-1&&this.buttonClickListeners.splice(this.buttonClickListeners.indexOf(e),1)},t.prototype.setSelectMode=function(){this.resetButtonStyles(),this.setActiveButton(this.buttons[0])},t.prototype.adjustLayout=function(){if(this.markerButtons&&this.markerButtons.length>0){var e=Math.floor(this.markerButtonBlock.clientWidth/this.uiStyleSettings.toolbarHeight)-1;this.markerButtonBlock.innerHTML="",this.markerButtonOverflowBlock.innerHTML="";for(var i=0;i<this.markerButtons.length;i++)i<e||i===e&&this.markerButtons.length-1===e?this.markerButtonBlock.appendChild(this.markerButtons[i]):(i===e&&this.markerButtonBlock.appendChild(this.overflowButton),this.markerButtonOverflowBlock.appendChild(this.markerButtons[i]))}},t.prototype.overflowButtonClicked=function(){this.markerButtonOverflowBlock.style.display!=="none"?(this.markerButtonOverflowBlock.className=this.markerButtonOverflowBlock.className.replace(_.fadeInAnimationClassName,""),this.markerButtonOverflowBlock.style.display="none"):(this.markerButtonOverflowBlock.className+=" "+_.fadeInAnimationClassName,this.markerButtonOverflowBlock.style.top=this.uiContainer.offsetTop+this.overflowButton.offsetHeight+"px",this.markerButtonOverflowBlock.style.right=this.uiContainer.offsetWidth-this.overflowButton.offsetLeft-this.overflowButton.offsetWidth+2*this.uiContainer.offsetLeft+"px",this.markerButtonOverflowBlock.style.display="inline-block")},t.prototype.resetButtonStyles=function(){var e=this;this.buttons.forEach(function(i){i.className=i.className.replace(e.uiStyleSettings.toolbarButtonStyleColorsClassName?e.uiStyleSettings.toolbarButtonStyleColorsClassName:e.toolbarButtonStyleColorsClass.name,"").trim(),i.className=i.className.replace(e.uiStyleSettings.toolbarActiveButtonStyleColorsClassName?e.uiStyleSettings.toolbarActiveButtonStyleColorsClassName:e.toolbarActiveButtonStyleColorsClass.name,"").trim(),i.className+=" "+(e.uiStyleSettings.toolbarButtonStyleColorsClassName?e.uiStyleSettings.toolbarButtonStyleColorsClassName:e.toolbarButtonStyleColorsClass.name)})},t.prototype.addActionButton=function(e,i,o){var r=this,s=document.createElement("div");switch(s.className=""+this.toolbarButtonStyleClass.name,s.innerHTML=i,s.setAttribute("data-action",o),s.addEventListener("click",function(){r.actionToolbarButtonClicked(s,o)}),o){case"select":s.style.fill=this.uiStyleSettings.selectButtonColor;break;case"delete":case"clear":s.style.fill=this.uiStyleSettings.deleteButtonColor;break;case"undo":case"redo":s.style.fill=this.uiStyleSettings.selectButtonColor;break;case"render":s.style.fill=this.uiStyleSettings.okButtonColor;break;case"close":s.style.fill=this.uiStyleSettings.closeButtonColor}e.appendChild(s),this.buttons.push(s)},t.prototype.addStyles=function(){this.toolbarStyleClass=_.addClass(new it("toolbar",`
      width: 100%;
      flex-shrink: 0;
      display: flex;
      flex-direction: row;
      justify-content: space-between;      
      height: `+this.uiStyleSettings.toolbarHeight+`px;
      box-sizing: content-box;
      `+(this.displayMode==="inline"?"border-top-left-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+`
      `+(this.displayMode==="inline"?"border-top-right-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+`
      overflow: hidden;
    `)),this.toolbarStyleColorsClass=_.addClass(new it("toolbar_colors",`
      background-color: `+this.uiStyleSettings.toolbarBackgroundColor+`;
      box-shadow: 0px 3px rgba(33, 33, 33, 0.1);
    `)),this.toolbarBlockStyleClass=_.addClass(new it("toolbar-block",`
        display: inline-block;
        box-sizing: content-box;
    `)),this.toolbarOverflowBlockStyleClass=_.addClass(new it("toolbar-overflow-block",`
        position: absolute;
        top: `+this.uiStyleSettings.toolbarHeight+`px;
        max-width: `+2*this.uiStyleSettings.toolbarHeight+`px;
        z-index: 10;
        box-sizing: content-box;
      `)),this.toolbarOverflowBlockStyleColorsClass=_.addClass(new it("toolbar-overflow-block_colors",`
        background-color: `+this.uiStyleSettings.toolbarBackgroundColor+`;
      `));var e=this.uiStyleSettings.toolbarHeight/4;this.toolbarButtonStyleClass=_.addClass(new it("toolbar_button",`
      display: inline-block;
      width: `+(this.uiStyleSettings.toolbarHeight-2*e)+`px;
      height: `+(this.uiStyleSettings.toolbarHeight-2*e)+`px;
      padding: `+e+`px;
      box-sizing: content-box;
    `)),this.toolbarButtonStyleColorsClass=_.addClass(new it("toolbar_button_colors",`
      fill: `+this.uiStyleSettings.toolbarColor+`;
    `)),this.toolbarActiveButtonStyleColorsClass=_.addClass(new it("toolbar_active_button",`
      fill: `+this.uiStyleSettings.toolbarColor+`;
      background-color: `+this.uiStyleSettings.toolbarBackgroundHoverColor+`
    `)),_.addRule(new ne("."+this.toolbarButtonStyleClass.name+" svg",`
      height: `+this.uiStyleSettings.toolbarHeight/2+`px;
    `)),_.addRule(new ne("."+this.toolbarButtonStyleColorsClass.name+":hover",`
        background-color: `+this.uiStyleSettings.toolbarBackgroundHoverColor+`
    `))},t.prototype.markerToolbarButtonClicked=function(e,i){this.setActiveButton(e),this.buttonClickListeners&&this.buttonClickListeners.length>0&&this.buttonClickListeners.forEach(function(o){return o("marker",i)}),this.markerButtonOverflowBlock.style.display="none"},t.prototype.actionToolbarButtonClicked=function(e,i){this.buttonClickListeners&&this.buttonClickListeners.length>0&&this.buttonClickListeners.forEach(function(o){return o("action",i)}),this.markerButtonOverflowBlock.style.display="none",this.setActiveButton(this.buttons[0])},t.prototype.setActiveButton=function(e){this.resetButtonStyles(),e.className=e.className.replace(this.uiStyleSettings.toolbarButtonStyleColorsClassName?this.uiStyleSettings.toolbarButtonStyleColorsClassName:this.toolbarButtonStyleColorsClass.name,"").trim(),e.className+=" "+(this.uiStyleSettings.toolbarActiveButtonStyleColorsClassName?this.uiStyleSettings.toolbarActiveButtonStyleColorsClassName:this.toolbarActiveButtonStyleColorsClass.name)},t.prototype.setActiveMarkerButton=function(e){var i=this.markerButtons.find(function(o){return o.getAttribute("data-type-name")===e});i&&this.setActiveButton(i)},t.prototype.setCurrentMarker=function(e){var i=this;this.currentMarker=e,this.buttons.filter(function(o){return/delete|notes/.test(o.getAttribute("data-action"))}).forEach(function(o){i.currentMarker===void 0?(o.style.fillOpacity="0.4",o.style.pointerEvents="none"):(o.style.fillOpacity="1",o.style.pointerEvents="all")})},t}(),Ml=function(){function t(e,i,o){this.panels=[],this.panelButtons=[],this.markerjsContainer=e,this.displayMode=i,this.uiStyleSettings=o,this.panelButtonClick=this.panelButtonClick.bind(this),this.addStyles()}return t.prototype.addStyles=function(){var e;this.toolboxStyleClass=_.addClass(new it("toolbox",`
      width: 100%;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      font-family: sans-serif;
      `+(this.displayMode==="popup"?"height:"+2.5*this.uiStyleSettings.toolbarHeight+"px;":"")+`
      box-sizing: content-box;
      `+(this.displayMode==="popup"?"background-color: "+this.uiStyleSettings.canvasBackgroundColor+";":"")+`
      `+(this.displayMode==="inline"?"border-bottom-left-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+`
      `+(this.displayMode==="inline"?"border-bottom-right-radius: "+Math.round(this.uiStyleSettings.toolbarHeight/10)+"px;":"")+`
      overflow: hidden;
    `)),this.toolboxStyleColorsClass=_.addClass(new it("toolbox_colors",`
      color: `+this.uiStyleSettings.toolboxColor+`;
    `));var i=this.uiStyleSettings.toolbarHeight/4;this.toolboxButtonRowStyleClass=_.addClass(new it("toolbox-button-row",`
      display: flex;
      cursor: default;
      box-sizing: content-box;
    `)),this.toolboxButtonRowStyleColorsClass=_.addClass(new it("toolbox-button-row_colors",`
      background-color: `+this.uiStyleSettings.toolbarBackgroundColor+`;
    `)),this.toolboxPanelRowStyleClass=_.addClass(new it("toolbox-panel-row",`
      display: flex;
      `+(this.displayMode==="inline"?"position: absolute;":"")+`
      `+(this.displayMode==="inline"?"bottom: "+this.uiStyleSettings.toolbarHeight+"px;":"")+`
      cursor: default;
      height: `+1.5*this.uiStyleSettings.toolbarHeight+`px;
      `+(this.displayMode==="inline"?"width: 100%;":"")+`
      box-sizing: content-box;
    `)),this.toolboxPanelRowStyleColorsClass=_.addClass(new it("toolbox-panel-row_colors",`
      background-color: `+((e=this.uiStyleSettings.toolboxBackgroundColor)!==null&&e!==void 0?e:this.uiStyleSettings.toolbarBackgroundHoverColor)+`;
    `)),this.toolboxButtonStyleClass=_.addClass(new it("toolbox_button",`
      display: inline-block;
      width: `+(this.uiStyleSettings.toolbarHeight-2*i)+`px;
      height: `+(this.uiStyleSettings.toolbarHeight-2*i)+`px;
      padding: `+i+`px;
      box-sizing: content-box;
    `)),this.toolboxButtonStyleColorsClass=_.addClass(new it("toolbox-button_colors",`
      fill: `+this.uiStyleSettings.toolbarColor+`;
    `)),this.toolboxActiveButtonStyleColorsClass=_.addClass(new it("toolbox-active-button_colors",`
      background-color: `+this.uiStyleSettings.toolbarBackgroundHoverColor+`;
      fill: `+this.uiStyleSettings.toolbarColor+`;
    `)),_.addRule(new ne("."+this.toolboxButtonStyleColorsClass.name+":hover",`
        background-color: `+this.uiStyleSettings.toolbarBackgroundHoverColor+`
    `)),_.addRule(new ne("."+this.toolboxButtonStyleClass.name+" svg",`
      height: `+this.uiStyleSettings.toolbarHeight/2+`px;
    `))},t.prototype.show=function(e){var i;this.uiContainer=document.createElement("div"),this.uiContainer.style.visibility=e,this.uiContainer.className=this.toolboxStyleClass.name+" "+((i=this.uiStyleSettings.toolboxStyleColorsClassName)!==null&&i!==void 0?i:this.toolboxStyleColorsClass.name),this.markerjsContainer.appendChild(this.uiContainer)},t.prototype.setPanelButtons=function(e){var i,o,r=this;this.panels=e,this.uiContainer!==void 0&&(this.uiContainer.innerHTML="",this.panelRow=document.createElement("div"),this.panelRow.className=this.toolboxPanelRowStyleClass.name+" "+((i=this.uiStyleSettings.toolboxPanelRowStyleColorsClassName)!==null&&i!==void 0?i:this.toolboxPanelRowStyleColorsClass.name),this.uiContainer.appendChild(this.panelRow),this.buttonRow=document.createElement("div"),this.buttonRow.className=this.toolboxButtonRowStyleClass.name+" "+((o=this.uiStyleSettings.toolboxButtonRowStyleColorsClassName)!==null&&o!==void 0?o:this.toolboxButtonRowStyleColorsClass.name)+" ",this.uiContainer.appendChild(this.buttonRow),this.panelButtons.splice(0),this.panels.forEach(function(s){var n,a=document.createElement("div");a.className=r.toolboxButtonStyleClass.name+" "+((n=r.uiStyleSettings.toolboxButtonStyleColorsClassName)!==null&&n!==void 0?n:r.toolboxButtonStyleColorsClass.name),a.innerHTML=s.icon,a.title=s.title,a.addEventListener("click",function(){r.panelButtonClick(s)}),r.panelButtons.push(a),r.buttonRow.appendChild(a)}),this.displayMode==="inline"?this.panelRow.style.display="none":this.panelRow.style.visibility="hidden")},t.prototype.panelButtonClick=function(e){var i=this,o=-1;if(e!==this.activePanel){o=this.panels.indexOf(e),this.panelRow.innerHTML="";var r=e.getUi();r.style.margin=this.uiStyleSettings.toolbarHeight/4+"px",this.panelRow.appendChild(r),this.panelRow.style.display="flex",this.panelRow.style.visibility="visible",this.panelRow.className=this.panelRow.className.replace(_.fadeOutAnimationClassName,""),this.panelRow.className+=" "+_.fadeInAnimationClassName,this.activePanel=e}else this.activePanel=void 0,this.panelRow.className=this.panelRow.className.replace(_.fadeInAnimationClassName,""),this.panelRow.className+=" "+_.fadeOutAnimationClassName,setTimeout(function(){i.displayMode==="inline"?i.panelRow.style.display="none":i.panelRow.style.visibility="hidden"},200);this.panelButtons.forEach(function(s,n){var a,c;s.className=i.toolboxButtonStyleClass.name+" "+(n===o?""+((a=i.uiStyleSettings.toolboxActiveButtonStyleColorsClassName)!==null&&a!==void 0?a:i.toolboxActiveButtonStyleColorsClass.name):""+((c=i.uiStyleSettings.toolboxButtonStyleColorsClassName)!==null&&c!==void 0?c:i.toolboxButtonStyleColorsClass.name))})},t}(),Se=function(t,e){this.title=t,this.icon=e},Bt=function(t){function e(i,o,r,s){var n=t.call(this,i,s||'<svg viewBox="0 0 24 24"><path d="M17.5 12a1.5 1.5 0 01-1.5-1.5A1.5 1.5 0 0117.5 9a1.5 1.5 0 011.5 1.5 1.5 1.5 0 01-1.5 1.5m-3-4A1.5 1.5 0 0113 6.5 1.5 1.5 0 0114.5 5 1.5 1.5 0 0116 6.5 1.5 1.5 0 0114.5 8m-5 0A1.5 1.5 0 018 6.5 1.5 1.5 0 019.5 5 1.5 1.5 0 0111 6.5 1.5 1.5 0 019.5 8m-3 4A1.5 1.5 0 015 10.5 1.5 1.5 0 016.5 9 1.5 1.5 0 018 10.5 1.5 1.5 0 016.5 12M12 3a9 9 0 00-9 9 9 9 0 009 9 1.5 1.5 0 001.5-1.5c0-.39-.15-.74-.39-1-.23-.27-.38-.62-.38-1a1.5 1.5 0 011.5-1.5H16a5 5 0 005-5c0-4.42-4.03-8-9-8z"/></svg>')||this;return n.colors=[],n.addTransparent=!1,n.colorBoxes=[],n.colors=o,n.currentColor=r,n.setCurrentColor=n.setCurrentColor.bind(n),n.getColorBox=n.getColorBox.bind(n),n}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");return o.style.overflow="hidden",o.style.whiteSpace="nowrap",this.colors.forEach(function(r){var s=i.getColorBox(r);o.appendChild(s),i.colorBoxes.push(s)}),o},e.prototype.getColorBox=function(i){var o=this,r=_.settings.toolbarHeight/4,s=_.settings.toolbarHeight-r,n=document.createElement("div");n.style.display="inline-block",n.style.boxSizing="content-box",n.style.width=s-2+"px",n.style.height=s-2+"px",n.style.padding="1px",n.style.marginRight="2px",n.style.marginBottom="2px",n.style.borderWidth="2px",n.style.borderStyle="solid",n.style.borderRadius=(s+2)/2+"px",n.style.borderColor=i===this.currentColor?_.settings.toolboxAccentColor:"transparent",n.addEventListener("click",function(){o.setCurrentColor(i,n)});var a=document.createElement("div");return a.style.display="inline-block",a.style.width=s-2+"px",a.style.height=s-2+"px",a.style.backgroundColor=i,a.style.borderRadius=s/2+"px",i==="transparent"&&(a.style.fill=_.settings.toolboxAccentColor,a.innerHTML=`<svg viewBox="0 0 24 24">
        <path d="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z" />
      </svg>`),n.appendChild(a),n},e.prototype.setCurrentColor=function(i,o){this.currentColor=i,this.colorBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onColorChanged&&this.onColorChanged(i)},e}(Se),zs=function(){function t(e,i,o){this._state="new",this._isSelected=!1,this._container=e,this._overlayContainer=i,this.globalSettings=o}return Object.defineProperty(t.prototype,"typeName",{get:function(){return Object.getPrototypeOf(this).constructor.typeName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"overlayContainer",{get:function(){return this._overlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolboxPanels",{get:function(){return[]},enumerable:!1,configurable:!0}),t.prototype.ownsTarget=function(e){return!1},Object.defineProperty(t.prototype,"isSelected",{get:function(){return this._isSelected},enumerable:!1,configurable:!0}),t.prototype.select=function(){this.container.style.cursor="move",this._isSelected=!0},t.prototype.deselect=function(){this.container.style.cursor="default",this._isSelected=!1},t.prototype.pointerDown=function(e,i){},t.prototype.dblClick=function(e,i){},t.prototype.manipulate=function(e){},t.prototype.pointerUp=function(e){},t.prototype.dispose=function(){},t.prototype.addMarkerVisualToContainer=function(e){this.container.childNodes.length>0?this.container.insertBefore(e,this.container.childNodes[0]):this.container.appendChild(e)},t.prototype.getState=function(){return{typeName:t.typeName,state:this.state,notes:this.notes}},t.prototype.restoreState=function(e){this._state=e.state,this.notes=e.notes},t.prototype.scale=function(e,i){},t.prototype.colorChanged=function(e){this.onColorChanged&&this.onColorChanged(e)},t.prototype.fillColorChanged=function(e){this.onFillColorChanged&&this.onFillColorChanged(e)},t.typeName="MarkerBase",t}(),Bl=function(){function t(){this.findGripByVisual=this.findGripByVisual.bind(this)}return t.prototype.findGripByVisual=function(e){return this.topLeft.ownsTarget(e)?this.topLeft:this.topCenter.ownsTarget(e)?this.topCenter:this.topRight.ownsTarget(e)?this.topRight:this.centerLeft.ownsTarget(e)?this.centerLeft:this.centerRight.ownsTarget(e)?this.centerRight:this.bottomLeft.ownsTarget(e)?this.bottomLeft:this.bottomCenter.ownsTarget(e)?this.bottomCenter:this.bottomRight.ownsTarget(e)?this.bottomRight:void 0},t}(),ho=function(){function t(){this.GRIP_SIZE=10,this.visual=k.createGroup(),this.visual.appendChild(k.createCircle(1.5*this.GRIP_SIZE,[["fill","transparent"]])),this.visual.appendChild(k.createCircle(this.GRIP_SIZE,[["fill","#cccccc"],["fill-opacity","0.7"],["stroke","#333333"],["stroke-width","2"],["stroke-opacity","0.7"]]))}return t.prototype.ownsTarget=function(e){return e===this.visual||e===this.visual.childNodes[0]||e===this.visual.childNodes[1]},t}(),je=function(){function t(){}return t.toITransformMatrix=function(e){return{a:e.a,b:e.b,c:e.c,d:e.d,e:e.e,f:e.f}},t.toSVGMatrix=function(e,i){return e.a=i.a,e.b=i.b,e.c=i.c,e.d=i.d,e.e=i.e,e.f=i.f,e},t}(),ai=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.left=0,s.top=0,s.width=0,s.height=0,s.defaultSize={x:50,y:20},s.offsetX=0,s.offsetY=0,s.rotationAngle=0,s.CB_DISTANCE=10,s.container.transform.baseVal.appendItem(k.createTransform()),s.setupControlBox(),s}return et(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this.left+this.width/2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this.top+this.height/2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visual",{get:function(){return this._visual},set:function(i){this._visual=i;var o=k.createTransform();this._visual.transform.baseVal.appendItem(o)},enumerable:!1,configurable:!0}),e.prototype.ownsTarget=function(i){return!!t.prototype.ownsTarget.call(this,i)||!(this.controlGrips.findGripByVisual(i)===void 0&&!this.rotatorGrip.ownsTarget(i))},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="new"&&(this.left=i.x,this.top=i.y),this.manipulationStartLeft=this.left,this.manipulationStartTop=this.top,this.manipulationStartWidth=this.width,this.manipulationStartHeight=this.height;var r=this.unrotatePoint(i);if(this.manipulationStartX=r.x,this.manipulationStartY=r.y,this.offsetX=r.x-this.left,this.offsetY=r.y-this.top,this.state!=="new")if(this.select(),this.activeGrip=this.controlGrips.findGripByVisual(o),this.activeGrip!==void 0)this._state="resize";else if(this.rotatorGrip.ownsTarget(o)){this.activeGrip=this.rotatorGrip;var s=this.rotatePoint({x:this.centerX,y:this.centerY});this.left=s.x-this.width/2,this.top=s.y-this.height/2,this.moveVisual({x:this.left,y:this.top});var n=this.container.transform.baseVal.getItem(0);n.setRotate(this.rotationAngle,this.centerX,this.centerY),this.container.transform.baseVal.replaceItem(n,0),this.adjustControlBox(),this._state="rotate"}else this._state="move"},e.prototype.pointerUp=function(i){var o=this.state;t.prototype.pointerUp.call(this,i),this.state==="creating"&&this.width<10&&this.height<10?(this.width=this.defaultSize.x,this.height=this.defaultSize.y):this.manipulate(i),this._state="select",o==="creating"&&this.onMarkerCreated&&this.onMarkerCreated(this)},e.prototype.moveVisual=function(i){this.visual.style.transform="translate("+i.x+"px, "+i.y+"px)"},e.prototype.manipulate=function(i){var o=this.unrotatePoint(i);this.state==="creating"?this.resize(i):this.state==="move"?(this.left=this.manipulationStartLeft+(o.x-this.manipulationStartLeft)-this.offsetX,this.top=this.manipulationStartTop+(o.y-this.manipulationStartTop)-this.offsetY,this.moveVisual({x:this.left,y:this.top}),this.adjustControlBox()):this.state==="resize"?this.resize(o):this.state==="rotate"&&this.rotate(i)},e.prototype.resize=function(i){var o=this.manipulationStartLeft,r=this.manipulationStartWidth,s=this.manipulationStartTop,n=this.manipulationStartHeight;switch(this.activeGrip){case this.controlGrips.bottomLeft:case this.controlGrips.centerLeft:case this.controlGrips.topLeft:o=this.manipulationStartLeft+i.x-this.manipulationStartX,r=this.manipulationStartWidth+this.manipulationStartLeft-o;break;case this.controlGrips.bottomRight:case this.controlGrips.centerRight:case this.controlGrips.topRight:case void 0:r=this.manipulationStartWidth+i.x-this.manipulationStartX}switch(this.activeGrip){case this.controlGrips.topCenter:case this.controlGrips.topLeft:case this.controlGrips.topRight:s=this.manipulationStartTop+i.y-this.manipulationStartY,n=this.manipulationStartHeight+this.manipulationStartTop-s;break;case this.controlGrips.bottomCenter:case this.controlGrips.bottomLeft:case this.controlGrips.bottomRight:case void 0:n=this.manipulationStartHeight+i.y-this.manipulationStartY}r>=0?(this.left=o,this.width=r):(this.left=o+r,this.width=-r),n>=0?(this.top=s,this.height=n):(this.top=s+n,this.height=-n),this.setSize()},e.prototype.setSize=function(){this.moveVisual({x:this.left,y:this.top}),this.adjustControlBox()},e.prototype.rotate=function(i){if(Math.abs(i.x-this.centerX)>.1){var o=Math.sign(i.x-this.centerX);this.rotationAngle=180*Math.atan((i.y-this.centerY)/(i.x-this.centerX))/Math.PI+90*o,this.applyRotation()}},e.prototype.applyRotation=function(){var i=this.container.transform.baseVal.getItem(0);i.setRotate(this.rotationAngle,this.centerX,this.centerY),this.container.transform.baseVal.replaceItem(i,0)},e.prototype.rotatePoint=function(i){if(this.rotationAngle===0)return i;var o=this.container.getCTM(),r=k.createPoint(i.x,i.y);return{x:(r=r.matrixTransform(o)).x,y:r.y}},e.prototype.unrotatePoint=function(i){if(this.rotationAngle===0)return i;var o=this.container.getCTM();o=o.inverse();var r=k.createPoint(i.x,i.y);return{x:(r=r.matrixTransform(o)).x,y:r.y}},e.prototype.select=function(){t.prototype.select.call(this),this.adjustControlBox(),this.controlBox.style.display=""},e.prototype.deselect=function(){t.prototype.deselect.call(this),this.controlBox.style.display="none"},e.prototype.setupControlBox=function(){this.controlBox=k.createGroup();var i=k.createTransform();i.setTranslate(-this.CB_DISTANCE/2,-this.CB_DISTANCE/2),this.controlBox.transform.baseVal.appendItem(i),this.container.appendChild(this.controlBox),this.controlRect=k.createRect(this.width+this.CB_DISTANCE,this.height+this.CB_DISTANCE,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"],["fill","transparent"],["pointer-events","none"]]),this.controlBox.appendChild(this.controlRect),this.rotatorGripLine=k.createLine((this.width+2*this.CB_DISTANCE)/2,this.top-this.CB_DISTANCE,(this.width+2*this.CB_DISTANCE)/2,this.top-3*this.CB_DISTANCE,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.controlBox.appendChild(this.rotatorGripLine),this.controlGrips=new Bl,this.addControlGrips(),this.controlBox.style.display="none"},e.prototype.adjustControlBox=function(){var i=this.controlBox.transform.baseVal.getItem(0);i.setTranslate(this.left-this.CB_DISTANCE/2,this.top-this.CB_DISTANCE/2),this.controlBox.transform.baseVal.replaceItem(i,0),this.controlRect.setAttribute("width",(this.width+this.CB_DISTANCE).toString()),this.controlRect.setAttribute("height",(this.height+this.CB_DISTANCE).toString()),this.rotatorGripLine.setAttribute("x1",((this.width+this.CB_DISTANCE)/2).toString()),this.rotatorGripLine.setAttribute("y1",(-this.CB_DISTANCE/2).toString()),this.rotatorGripLine.setAttribute("x2",((this.width+this.CB_DISTANCE)/2).toString()),this.rotatorGripLine.setAttribute("y2",(3*-this.CB_DISTANCE).toString()),this.positionGrips()},e.prototype.addControlGrips=function(){this.controlGrips.topLeft=this.createGrip(),this.controlGrips.topCenter=this.createGrip(),this.controlGrips.topRight=this.createGrip(),this.controlGrips.centerLeft=this.createGrip(),this.controlGrips.centerRight=this.createGrip(),this.controlGrips.bottomLeft=this.createGrip(),this.controlGrips.bottomCenter=this.createGrip(),this.controlGrips.bottomRight=this.createGrip(),this.rotatorGrip=this.createGrip(),this.positionGrips()},e.prototype.createGrip=function(){var i=new ho;return i.visual.transform.baseVal.appendItem(k.createTransform()),this.controlBox.appendChild(i.visual),i},e.prototype.positionGrips=function(){var i=this.controlGrips.topLeft.GRIP_SIZE,o=-i/2,r=o,s=(this.width+this.CB_DISTANCE)/2-i/2,n=(this.height+this.CB_DISTANCE)/2-i/2,a=this.height+this.CB_DISTANCE-i/2,c=this.width+this.CB_DISTANCE-i/2;this.positionGrip(this.controlGrips.topLeft.visual,o,r),this.positionGrip(this.controlGrips.topCenter.visual,s,r),this.positionGrip(this.controlGrips.topRight.visual,c,r),this.positionGrip(this.controlGrips.centerLeft.visual,o,n),this.positionGrip(this.controlGrips.centerRight.visual,c,n),this.positionGrip(this.controlGrips.bottomLeft.visual,o,a),this.positionGrip(this.controlGrips.bottomCenter.visual,s,a),this.positionGrip(this.controlGrips.bottomRight.visual,c,a),this.positionGrip(this.rotatorGrip.visual,s,r-3*this.CB_DISTANCE)},e.prototype.positionGrip=function(i,o,r){var s=i.transform.baseVal.getItem(0);s.setTranslate(o,r),i.transform.baseVal.replaceItem(s,0)},e.prototype.hideControlBox=function(){this.controlBox.style.display="none"},e.prototype.showControlBox=function(){this.controlBox.style.display=""},e.prototype.getState=function(){return Object.assign({left:this.left,top:this.top,width:this.width,height:this.height,rotationAngle:this.rotationAngle,visualTransformMatrix:je.toITransformMatrix(this.visual.transform.baseVal.getItem(0).matrix),containerTransformMatrix:je.toITransformMatrix(this.container.transform.baseVal.getItem(0).matrix)},t.prototype.getState.call(this))},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i);var o=i;this.left=o.left,this.top=o.top,this.width=o.width,this.height=o.height,this.rotationAngle=o.rotationAngle,this.visual.transform.baseVal.getItem(0).setMatrix(je.toSVGMatrix(this.visual.transform.baseVal.getItem(0).matrix,o.visualTransformMatrix)),this.container.transform.baseVal.getItem(0).setMatrix(je.toSVGMatrix(this.container.transform.baseVal.getItem(0).matrix,o.containerTransformMatrix))},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o);var r=this.rotatePoint({x:this.left,y:this.top}),s=this.unrotatePoint({x:r.x*i,y:r.y*o});this.left=s.x,this.top=s.y,this.width=this.width*i,this.height=this.height*o,this.adjustControlBox()},e}(zs),Vs=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.fillColor="transparent",s.strokeColor="transparent",s.strokeWidth=0,s.strokeDasharray="",s.opacity=1,s.setStrokeColor=s.setStrokeColor.bind(s),s.setFillColor=s.setFillColor.bind(s),s.setStrokeWidth=s.setStrokeWidth.bind(s),s.setStrokeDasharray=s.setStrokeDasharray.bind(s),s.createVisual=s.createVisual.bind(s),s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.visual)},e.prototype.createVisual=function(){this.visual=k.createRect(1,1,[["fill",this.fillColor],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["stroke-dasharray",this.strokeDasharray],["opacity",this.opacity.toString()]]),this.addMarkerVisualToContainer(this.visual)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="new"&&(this.createVisual(),this.moveVisual(i),this._state="creating")},e.prototype.manipulate=function(i){t.prototype.manipulate.call(this,i)},e.prototype.resize=function(i){t.prototype.resize.call(this,i),this.setSize()},e.prototype.setSize=function(){t.prototype.setSize.call(this),k.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]])},e.prototype.pointerUp=function(i){t.prototype.pointerUp.call(this,i),this.setSize()},e.prototype.setStrokeColor=function(i){this.strokeColor=i,this.visual&&k.setAttributes(this.visual,[["stroke",this.strokeColor]]),this.colorChanged(i)},e.prototype.setFillColor=function(i){this.fillColor=i,this.visual&&k.setAttributes(this.visual,[["fill",this.fillColor]])},e.prototype.setStrokeWidth=function(i){this.strokeWidth=i,this.visual&&k.setAttributes(this.visual,[["stroke-width",this.strokeWidth.toString()]])},e.prototype.setStrokeDasharray=function(i){this.strokeDasharray=i,this.visual&&k.setAttributes(this.visual,[["stroke-dasharray",this.strokeDasharray]])},e.prototype.getState=function(){return Object.assign({fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,opacity:this.opacity},t.prototype.getState.call(this))},e.prototype.restoreState=function(i){var o=i;this.fillColor=o.fillColor,this.strokeColor=o.strokeColor,this.strokeWidth=o.strokeWidth,this.strokeDasharray=o.strokeDasharray,this.opacity=o.opacity,this.createVisual(),t.prototype.restoreState.call(this,i),this.setSize()},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.setSize()},e.title="Rectangle marker",e}(ai),Ne=function(t){function e(i,o,r,s){var n=t.call(this,i,s||'<svg viewBox="0 0 24 24"><path d="M3 17h18v-2H3v2m0 3h18v-1H3v1m0-7h18v-3H3v3m0-9v4h18V4H3z"/></svg>')||this;return n.widths=[],n.widthBoxes=[],n.widths=o,n.currentWidth=r,n.setCurrentWidth=n.setCurrentWidth.bind(n),n}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");return o.style.display="flex",o.style.overflow="hidden",o.style.flexGrow="2",this.widths.forEach(function(r){var s=document.createElement("div");s.style.display="flex",s.style.flexGrow="2",s.style.alignItems="center",s.style.justifyContent="space-between",s.style.padding="5px",s.style.borderWidth="2px",s.style.borderStyle="solid",s.style.borderColor=r===i.currentWidth?_.settings.toolboxAccentColor:"transparent",s.addEventListener("click",function(){i.setCurrentWidth(r,s)}),o.appendChild(s);var n=document.createElement("div");n.innerText=r.toString(),n.style.marginRight="5px",s.appendChild(n);var a=document.createElement("div");a.style.minHeight="20px",a.style.flexGrow="2",a.style.display="flex",a.style.alignItems="center";var c=document.createElement("hr");c.style.minWidth="20px",c.style.border="0px",c.style.borderTop=r+"px solid "+_.settings.toolboxColor,c.style.flexGrow="2",a.appendChild(c),s.appendChild(a),i.widthBoxes.push(s)}),o},e.prototype.setCurrentWidth=function(i,o){this.currentWidth=i,this.widthBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onWidthChanged&&this.onWidthChanged(this.currentWidth)},e}(Se),hi=function(t){function e(i,o,r,s){var n=t.call(this,i,s||'<svg viewBox="0 0 24 24"><path d="M3 16h5v-2H3v2m6.5 0h5v-2h-5v2m6.5 0h5v-2h-5v2M3 20h2v-2H3v2m4 0h2v-2H7v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2m4 0h2v-2h-2v2M3 12h8v-2H3v2m10 0h8v-2h-8v2M3 4v4h18V4H3z"/></svg>')||this;return n.styles=[],n.styleBoxes=[],n.styles=o,n.currentStyle=r,n.setCurrentStyle=n.setCurrentStyle.bind(n),n}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");return o.style.display="flex",o.style.overflow="hidden",o.style.flexGrow="2",this.styles.forEach(function(r){var s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="space-between",s.style.padding="5px",s.style.borderWidth="2px",s.style.borderStyle="solid",s.style.overflow="hidden",s.style.maxWidth=100/i.styles.length-5+"%",s.style.borderColor=r===i.currentStyle?_.settings.toolboxAccentColor:"transparent",s.addEventListener("click",function(){i.setCurrentStyle(r,s)}),o.appendChild(s);var n=document.createElement("div");n.style.minHeight="20px",n.style.flexGrow="2",n.style.overflow="hidden";var a=`<svg width="100" height="20">
      <line x1="0" y1="10" x2="100" y2="10" stroke="`+_.settings.toolboxColor+'" stroke-width="3" '+(r!==""?'stroke-dasharray="'+r+'"':"")+` />
  </svg>`;n.innerHTML=a,s.appendChild(n),i.styleBoxes.push(s)}),o},e.prototype.setCurrentStyle=function(i,o){this.currentStyle=i,this.styleBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onStyleChanged&&this.onStyleChanged(this.currentStyle)},e}(Se),vi=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.strokeColor=r.defaultColor,s.strokeWidth=r.defaultStrokeWidth,s.strokeDasharray=r.defaultStrokeDasharray,s.strokePanel=new Bt("Line color",r.defaultColorSet,r.defaultColor),s.strokePanel.onColorChanged=s.setStrokeColor,s.strokeWidthPanel=new Ne("Line width",r.defaultStrokeWidths,r.defaultStrokeWidth),s.strokeWidthPanel.onWidthChanged=s.setStrokeWidth,s.strokeStylePanel=new hi("Line style",r.defaultStrokeDasharrays,r.defaultStrokeDasharray),s.strokeStylePanel.onStyleChanged=s.setStrokeDasharray,s}return et(e,t),Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=t.prototype.getState.call(this);return i.typeName=e.typeName,i},e.typeName="FrameMarker",e.title="Frame marker",e.icon='<svg viewBox="0 0 24 24"><path d="M4 6v13h16V6H4m14 11H6V8h12v9z"/></svg>',e}(Vs),Pl=function(){this.defaultColorSet=["#EF4444","#10B981","#2563EB","#FFFF00","#7C3AED","#F472B6","#000000","#FFFFFF"],this.defaultColor=this.defaultColorSet[0],this.defaultFillColor=this.defaultColorSet[0],this.defaultStrokeColor=this.defaultColorSet[7],this.defaultHighlightColor=this.defaultColorSet[3],this.defaultStrokeWidth=3,this.defaultStrokeDasharray="",this.defaultHighlightOpacity=.5,this.defaultFontFamily="Helvetica, Arial, sans-serif",this.defaultStrokeWidths=[1,2,3,5,10],this.defaultStrokeDasharrays=["","3","12 3","9 6 3 6"],this.defaultOpacitySteps=[.1,.25,.5,.75,1],this.displayMode="inline",this.defaultFontFamilies=['Times, "Times New Roman", serif',"Helvetica, Arial, sans-serif",'Courier, "Courier New", monospace',"cursive","fantasy"],this.popupMargin=30,this.newFreehandMarkerOnPointerUp=!1,this.defaultColorsFollowCurrentColors=!1,this.freehandPixelRatio=1},js=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.x1=0,s.y1=0,s.x2=0,s.y2=0,s.defaultLength=50,s.manipulationStartX=0,s.manipulationStartY=0,s.manipulationStartX1=0,s.manipulationStartY1=0,s.manipulationStartX2=0,s.manipulationStartY2=0,s.setupControlBox(),s}return et(e,t),e.prototype.ownsTarget=function(i){return!!t.prototype.ownsTarget.call(this,i)||!(!this.grip1.ownsTarget(i)&&!this.grip2.ownsTarget(i))},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.manipulationStartX=i.x,this.manipulationStartY=i.y,this.state==="new"&&(this.x1=i.x,this.y1=i.y,this.x2=i.x,this.y2=i.y),this.manipulationStartX1=this.x1,this.manipulationStartY1=this.y1,this.manipulationStartX2=this.x2,this.manipulationStartY2=this.y2,this.state!=="new"&&(this.select(),this.grip1.ownsTarget(o)?this.activeGrip=this.grip1:this.grip2.ownsTarget(o)?this.activeGrip=this.grip2:this.activeGrip=void 0,this.activeGrip?this._state="resize":this._state="move")},e.prototype.pointerUp=function(i){var o=this.state;t.prototype.pointerUp.call(this,i),this.state==="creating"&&Math.abs(this.x1-this.x2)<10&&Math.abs(this.y1-this.y2)<10?(this.x2=this.x1+this.defaultLength,this.adjustVisual(),this.adjustControlBox()):this.manipulate(i),this._state="select",o==="creating"&&this.onMarkerCreated&&this.onMarkerCreated(this)},e.prototype.adjustVisual=function(){},e.prototype.manipulate=function(i){this.state==="creating"?this.resize(i):this.state==="move"?(this.x1=this.manipulationStartX1+i.x-this.manipulationStartX,this.y1=this.manipulationStartY1+i.y-this.manipulationStartY,this.x2=this.manipulationStartX2+i.x-this.manipulationStartX,this.y2=this.manipulationStartY2+i.y-this.manipulationStartY,this.adjustVisual(),this.adjustControlBox()):this.state==="resize"&&this.resize(i)},e.prototype.resize=function(i){switch(this.activeGrip){case this.grip1:this.x1=i.x,this.y1=i.y;break;case this.grip2:case void 0:this.x2=i.x,this.y2=i.y}this.adjustVisual(),this.adjustControlBox()},e.prototype.select=function(){t.prototype.select.call(this),this.adjustControlBox(),this.controlBox.style.display=""},e.prototype.deselect=function(){t.prototype.deselect.call(this),this.controlBox.style.display="none"},e.prototype.setupControlBox=function(){this.controlBox=k.createGroup(),this.container.appendChild(this.controlBox),this.addControlGrips(),this.controlBox.style.display="none"},e.prototype.adjustControlBox=function(){this.positionGrips()},e.prototype.addControlGrips=function(){this.grip1=this.createGrip(),this.grip2=this.createGrip(),this.positionGrips()},e.prototype.createGrip=function(){var i=new ho;return i.visual.transform.baseVal.appendItem(k.createTransform()),this.controlBox.appendChild(i.visual),i},e.prototype.positionGrips=function(){var i=this.grip1.GRIP_SIZE;this.positionGrip(this.grip1.visual,this.x1-i/2,this.y1-i/2),this.positionGrip(this.grip2.visual,this.x2-i/2,this.y2-i/2)},e.prototype.positionGrip=function(i,o,r){var s=i.transform.baseVal.getItem(0);s.setTranslate(o,r),i.transform.baseVal.replaceItem(s,0)},e.prototype.getState=function(){return Object.assign({x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2},t.prototype.getState.call(this))},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i);var o=i;this.x1=o.x1,this.y1=o.y1,this.x2=o.x2,this.y2=o.y2},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.x1=this.x1*i,this.y1=this.y1*o,this.x2=this.x2*i,this.y2=this.y2*o,this.adjustVisual(),this.adjustControlBox()},e}(zs),co=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.strokeColor="transparent",s.strokeWidth=0,s.strokeDasharray="",s.setStrokeColor=s.setStrokeColor.bind(s),s.setStrokeWidth=s.setStrokeWidth.bind(s),s.setStrokeDasharray=s.setStrokeDasharray.bind(s),s.strokeColor=r.defaultColor,s.strokeWidth=r.defaultStrokeWidth,s.strokeDasharray=r.defaultStrokeDasharray,s.strokePanel=new Bt("Line color",r.defaultColorSet,r.defaultColor),s.strokePanel.onColorChanged=s.setStrokeColor,s.strokeWidthPanel=new Ne("Line width",r.defaultStrokeWidths,r.defaultStrokeWidth),s.strokeWidthPanel.onWidthChanged=s.setStrokeWidth,s.strokeStylePanel=new hi("Line style",r.defaultStrokeDasharrays,r.defaultStrokeDasharray),s.strokeStylePanel.onStyleChanged=s.setStrokeDasharray,s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.visual&&i!==this.selectorLine&&i!==this.visibleLine)},e.prototype.createVisual=function(){this.visual=k.createGroup(),this.selectorLine=k.createLine(this.x1,this.y1,this.x2,this.y2,[["stroke","transparent"],["stroke-width",(this.strokeWidth+10).toString()]]),this.visibleLine=k.createLine(this.x1,this.y1,this.x2,this.y2,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.visual.appendChild(this.selectorLine),this.visual.appendChild(this.visibleLine),this.addMarkerVisualToContainer(this.visual)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="new"&&(this.createVisual(),this.adjustVisual(),this._state="creating")},e.prototype.adjustVisual=function(){this.selectorLine&&this.visibleLine&&(this.selectorLine.setAttribute("x1",this.x1.toString()),this.selectorLine.setAttribute("y1",this.y1.toString()),this.selectorLine.setAttribute("x2",this.x2.toString()),this.selectorLine.setAttribute("y2",this.y2.toString()),this.visibleLine.setAttribute("x1",this.x1.toString()),this.visibleLine.setAttribute("y1",this.y1.toString()),this.visibleLine.setAttribute("x2",this.x2.toString()),this.visibleLine.setAttribute("y2",this.y2.toString()),k.setAttributes(this.visibleLine,[["stroke",this.strokeColor]]),k.setAttributes(this.visibleLine,[["stroke-width",this.strokeWidth.toString()]]),k.setAttributes(this.visibleLine,[["stroke-dasharray",this.strokeDasharray.toString()]]))},e.prototype.setStrokeColor=function(i){this.strokeColor=i,this.adjustVisual(),this.colorChanged(i)},e.prototype.setStrokeWidth=function(i){this.strokeWidth=i,this.adjustVisual()},e.prototype.setStrokeDasharray=function(i){this.strokeDasharray=i,this.adjustVisual()},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i);var o=i;this.strokeColor=o.strokeColor,this.strokeWidth=o.strokeWidth,this.strokeDasharray=o.strokeDasharray,this.createVisual(),this.adjustVisual()},e.typeName="LineMarker",e.title="Line marker",e.icon='<svg viewBox="0 0 24 24"><path d="M19 13H5v-2h14v2z"/></svg>',e}(js),Gs=function(t){function e(i,o,r,s){var n=t.call(this,i,s||'<svg viewBox="0 0 24 24"><path d="M17 8h3v12h1v1h-4v-1h1v-3h-4l-1.5 3H14v1h-4v-1h1l6-12m1 1l-3.5 7H18V9M5 3h5c1.11 0 2 .89 2 2v11H9v-5H6v5H3V5c0-1.11.89-2 2-2m1 2v4h3V5H6z"/></svg>')||this;return n.fonts=[],n.fontBoxes=[],n.fonts=o,n.currentFont=r,n.setCurrentFont=n.setCurrentFont.bind(n),n}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");return o.style.overflow="hidden",o.style.flexGrow="2",this.fonts.forEach(function(r){var s=document.createElement("div");s.style.display="inline-block",s.style.alignItems="center",s.style.justifyContent="space-between",s.style.padding="5px",s.style.borderWidth="2px",s.style.borderStyle="solid",s.style.overflow="hidden",s.style.maxWidth=100/i.fonts.length-5+"%",s.style.borderColor=r===i.currentFont?_.settings.toolboxAccentColor:"transparent",s.addEventListener("click",function(){i.setCurrentFont(r,s)}),o.appendChild(s);var n=document.createElement("div");n.style.display="flex",n.style.minHeight="20px",n.style.flexGrow="2",n.style.fontFamily=r,n.style.overflow="hidden";var a=document.createElement("div");a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.innerHTML="The quick brown fox jumps over the lazy dog",n.appendChild(a),s.appendChild(n),i.fontBoxes.push(s)}),o},e.prototype.setCurrentFont=function(i,o){this.currentFont=i,this.fontBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onFontChanged&&this.onFontChanged(this.currentFont)},e}(Se),Te=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.color="transparent",s.padding=5,s.DEFAULT_TEXT="your text here",s.text=s.DEFAULT_TEXT,s.isMoved=!1,s.color=r.defaultColor,s.fontFamily=r.defaultFontFamily,s.defaultSize={x:100,y:30},s.setColor=s.setColor.bind(s),s.setFont=s.setFont.bind(s),s.renderText=s.renderText.bind(s),s.sizeText=s.sizeText.bind(s),s.textEditDivClicked=s.textEditDivClicked.bind(s),s.showTextEditor=s.showTextEditor.bind(s),s.setSize=s.setSize.bind(s),s.positionTextEditor=s.positionTextEditor.bind(s),s.colorPanel=new Bt("Color",r.defaultColorSet,r.defaultColor),s.colorPanel.onColorChanged=s.setColor,s.fontFamilyPanel=new Gs("Font",r.defaultFontFamilies,r.defaultFontFamily),s.fontFamilyPanel.onFontChanged=s.setFont,s}return et(e,t),e.prototype.ownsTarget=function(i){if(t.prototype.ownsTarget.call(this,i)||i===this.visual||i===this.textElement||i===this.bgRectangle)return!0;var o=!1;return this.textElement.childNodes.forEach(function(r){r===i&&(o=!0)}),o},e.prototype.createVisual=function(){this.visual=k.createGroup(),this.bgRectangle=k.createRect(1,1,[["fill","transparent"]]),this.visual.appendChild(this.bgRectangle),this.textElement=k.createText([["fill",this.color],["font-family",this.fontFamily],["font-size","16px"],["x","0"],["y","0"]]),this.textElement.transform.baseVal.appendItem(k.createTransform()),this.textElement.transform.baseVal.appendItem(k.createTransform()),this.visual.appendChild(this.textElement),this.addMarkerVisualToContainer(this.visual),this.renderText()},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.isMoved=!1,this.pointerDownPoint=i,this.pointerDownTimestamp=Date.now(),this.state==="new"&&(this.createVisual(),this.moveVisual(i),this._state="creating")},e.prototype.renderText=function(){var i=this;if(this.textElement){for(;this.textElement.lastChild;)this.textElement.removeChild(this.textElement.lastChild);this.text.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/).forEach(function(o){i.textElement.appendChild(k.createTSpan(o.trim()===""?" ":o.trim(),[["x","0"],["dy","1.2em"]]))}),setTimeout(this.sizeText,10)}},e.prototype.getTextScale=function(){var i=this.textElement.getBBox(),o=1;if(i.width>0&&i.height>0){var r=(1*this.width-this.width*this.padding*2/100)/i.width,s=(1*this.height-this.height*this.padding*2/100)/i.height;o=Math.min(r,s)}return o},e.prototype.getTextPosition=function(i){var o=this.textElement.getBBox(),r=0,s=0;return o.width>0&&o.height>0&&(r=(this.width-o.width*i)/2,s=this.height/2-o.height*i/2),{x:r,y:s}},e.prototype.sizeText=function(){var i=this.textElement.getBBox(),o=this.getTextScale(),r=this.getTextPosition(o);r.y-=i.y*o,navigator.userAgent.indexOf("Edge/")>-1?this.textElement.style.transform="translate("+r.x+"px, "+r.y+"px) scale("+o+", "+o+")":(this.textElement.transform.baseVal.getItem(0).setTranslate(r.x,r.y),this.textElement.transform.baseVal.getItem(1).setScale(o,o))},e.prototype.manipulate=function(i){t.prototype.manipulate.call(this,i),this.pointerDownPoint!==void 0&&(this.isMoved=Math.abs(i.x-this.pointerDownPoint.x)>5||Math.abs(i.y-this.pointerDownPoint.y)>5)},e.prototype.resize=function(i){t.prototype.resize.call(this,i),this.isMoved=!0,this.setSize(),this.sizeText()},e.prototype.setSize=function(){t.prototype.setSize.call(this),this.visual&&this.bgRectangle&&(k.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]]),k.setAttributes(this.bgRectangle,[["width",this.width.toString()],["height",this.height.toString()]]))},e.prototype.pointerUp=function(i){var o=this.state;t.prototype.pointerUp.call(this,i),this.setSize(),(o==="creating"||!this.isMoved&&Date.now()-this.pointerDownTimestamp>500)&&this.showTextEditor(),this.pointerDownPoint=void 0},e.prototype.showTextEditor=function(){var i=this;this._state="edit",this.overlayContainer.innerHTML="",this.textEditDiv=document.createElement("div"),this.textEditDiv.style.flexGrow="2",this.textEditDiv.style.alignItems="center",this.textEditDiv.style.justifyContent="center",this.textEditDiv.style.pointerEvents="auto",this.textEditDiv.style.overflow="hidden",this.textEditor=document.createElement("div"),this.textEditor.style.position="absolute",this.textEditor.style.fontFamily=this.fontFamily,this.textEditor.style.lineHeight="1em",this.textEditor.innerText=this.text,this.textEditor.contentEditable="true",this.textEditor.style.color=this.color,this.textEditor.style.whiteSpace="pre",this.positionTextEditor(),this.textEditor.addEventListener("pointerup",function(o){o.stopPropagation()}),this.textEditor.addEventListener("input",function(){for(var o=Number.parseFloat(i.textEditor.style.fontSize);i.textEditor.clientWidth>=Number.parseInt(i.textEditor.style.maxWidth)&&o>.9;)o-=.1,i.textEditor.style.fontSize=Math.max(o,.9)+"em"}),this.textEditor.addEventListener("keyup",function(o){o.cancelBubble=!0}),this.textEditor.addEventListener("paste",function(o){if(o.clipboardData){var r=o.clipboardData.getData("text"),s=window.getSelection();if(!s.rangeCount)return!1;s.deleteFromDocument(),s.getRangeAt(0).insertNode(document.createTextNode(r)),o.preventDefault()}}),this.textEditDiv.addEventListener("pointerup",function(){i.textEditDivClicked(i.textEditor.innerText)}),this.textEditDiv.appendChild(this.textEditor),this.overlayContainer.appendChild(this.textEditDiv),this.hideVisual(),this.textEditor.focus(),document.execCommand("selectAll")},e.prototype.positionTextEditor=function(){if(this.state==="edit")if(this.textEditor===void 0)this.showTextEditor();else{this.textElement.style.display="";var i=this.getTextScale(),o=this.rotatePoint({x:this.left+this.width/2,y:this.top+this.height/2}),r=this.textElement.getBBox(),s={x:r.width*i,y:r.height*i};o.x-=s.x/2,o.y-=s.y/2,this.textEditor.style.top=o.y+"px",this.textEditor.style.left=o.x+"px",this.textEditor.style.maxWidth=this.overlayContainer.offsetWidth-o.x+"px",this.textEditor.style.fontSize=Math.max(16*i,12)+"px",this.textElement.style.display="none"}},e.prototype.textEditDivClicked=function(i){this.text=i.trim(),this.overlayContainer.innerHTML="",this.renderText(),this.showVisual()},e.prototype.deselect=function(){this.state==="edit"&&this.textEditDivClicked(this.textEditor.innerText),t.prototype.deselect.call(this)},e.prototype.dblClick=function(i,o){t.prototype.dblClick.call(this,i,o),this.showTextEditor()},e.prototype.setColor=function(i){this.textElement&&k.setAttributes(this.textElement,[["fill",i]]),this.color=i,this.textEditor&&(this.textEditor.style.color=this.color),this.colorChanged(i)},e.prototype.setFont=function(i){this.textElement&&k.setAttributes(this.textElement,[["font-family",i]]),this.fontFamily=i,this.textEditor&&(this.textEditor.style.fontFamily=this.fontFamily),this.renderText()},e.prototype.hideVisual=function(){this.textElement.style.display="none",this.hideControlBox()},e.prototype.showVisual=function(){this.state==="edit"&&(this._state="select"),this.textElement.style.display="",this.showControlBox()},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.colorPanel,this.fontFamilyPanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({color:this.color,fontFamily:this.fontFamily,padding:this.padding,text:this.text},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){var o=i;this.color=o.color,this.fontFamily=o.fontFamily,this.padding=o.padding,this.text=o.text,this.createVisual(),t.prototype.restoreState.call(this,i),this.setSize()},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.setSize(),this.sizeText(),this.positionTextEditor()},e.typeName="TextMarker",e.title="Text marker",e.icon='<svg viewBox="0 0 24 24"><path d="M9.6 14L12 7.7l2.4 6.3M11 5L5.5 19h2.2l1.1-3H15l1.1 3h2.2L13 5h-2z"/></svg>',e}(ai),Me=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.color="transparent",s.lineWidth=3,s.drawing=!1,s.pixelRatio=1,s.color=r.defaultColor,s.lineWidth=r.defaultStrokeWidth,s.pixelRatio=r.freehandPixelRatio,s.setColor=s.setColor.bind(s),s.addCanvas=s.addCanvas.bind(s),s.finishCreation=s.finishCreation.bind(s),s.setLineWidth=s.setLineWidth.bind(s),s.colorPanel=new Bt("Color",r.defaultColorSet,r.defaultColor),s.colorPanel.onColorChanged=s.setColor,s.lineWidthPanel=new Ne("Line width",r.defaultStrokeWidths,r.defaultStrokeWidth),s.lineWidthPanel.onWidthChanged=s.setLineWidth,s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.visual&&i!==this.drawingImage)},e.prototype.createVisual=function(){this.visual=k.createGroup(),this.drawingImage=k.createImage(),this.visual.appendChild(this.drawingImage);var i=k.createTransform();this.visual.transform.baseVal.appendItem(i),this.addMarkerVisualToContainer(this.visual)},e.prototype.pointerDown=function(i,o){this.state==="new"&&(this.addCanvas(),this.createVisual(),this._state="creating"),this.state==="creating"?(this.canvasContext.strokeStyle=this.color,this.canvasContext.lineWidth=this.lineWidth,this.canvasContext.beginPath(),this.canvasContext.moveTo(i.x,i.y),this.drawing=!0):t.prototype.pointerDown.call(this,i,o)},e.prototype.manipulate=function(i){this.state==="creating"?this.drawing&&(this.canvasContext.lineTo(i.x,i.y),this.canvasContext.stroke()):t.prototype.manipulate.call(this,i)},e.prototype.resize=function(i){t.prototype.resize.call(this,i),k.setAttributes(this.visual,[["width",this.width.toString()],["height",this.height.toString()]]),k.setAttributes(this.drawingImage,[["width",this.width.toString()],["height",this.height.toString()]])},e.prototype.pointerUp=function(i){this._state==="creating"?this.drawing&&(this.canvasContext.closePath(),this.drawing=!1,this.globalSettings.newFreehandMarkerOnPointerUp&&this.finishCreation()):t.prototype.pointerUp.call(this,i)},e.prototype.addCanvas=function(){this.overlayContainer.innerHTML="",this.canvasElement=document.createElement("canvas"),this.canvasElement.width=this.overlayContainer.clientWidth*this.pixelRatio,this.canvasElement.height=this.overlayContainer.clientHeight*this.pixelRatio,this.canvasContext=this.canvasElement.getContext("2d"),this.canvasContext.scale(this.pixelRatio,this.pixelRatio),this.overlayContainer.appendChild(this.canvasElement)},e.prototype.select=function(){this.state==="creating"&&this.finishCreation(),t.prototype.select.call(this)},e.prototype.deselect=function(){this.state==="creating"&&this.finishCreation(),t.prototype.deselect.call(this)},e.prototype.finishCreation=function(){for(var i=this.canvasContext.getImageData(0,0,this.canvasElement.width,this.canvasElement.height),o=[this.canvasElement.width+1,this.canvasElement.height+1,-1,-1],r=o[0],s=o[1],n=o[2],a=o[3],c=!1,f=0;f<this.canvasElement.height;f++)for(var g=0;g<this.canvasElement.width;g++)i.data[f*this.canvasElement.width*4+4*g+3]>0&&(c=!0,f<s&&(s=f),g<r&&(r=g),f>a&&(a=f),g>n&&(n=g));if(c){this.left=r/this.pixelRatio,this.top=s/this.pixelRatio,this.width=(n-r)/this.pixelRatio,this.height=(a-s)/this.pixelRatio;var b=document.createElement("canvas");b.width=n-r,b.height=a-s,b.getContext("2d").putImageData(this.canvasContext.getImageData(r,s,n-r,a-s),0,0),this.drawingImgUrl=b.toDataURL("image/png"),this.setDrawingImage(),this._state="select",this.onMarkerCreated&&this.onMarkerCreated(this)}this.overlayContainer.innerHTML=""},e.prototype.setDrawingImage=function(){k.setAttributes(this.drawingImage,[["width",this.width.toString()],["height",this.height.toString()]]),k.setAttributes(this.drawingImage,[["href",this.drawingImgUrl]]),this.moveVisual({x:this.left,y:this.top})},e.prototype.setColor=function(i){this.color=i,this.colorChanged(i)},e.prototype.setLineWidth=function(i){this.lineWidth=i},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return this.state==="new"||this.state==="creating"?[this.colorPanel,this.lineWidthPanel]:[]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({drawingImgUrl:this.drawingImgUrl},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){this.createVisual(),t.prototype.restoreState.call(this,i),this.drawingImgUrl=i.drawingImgUrl,this.setDrawingImage()},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.setDrawingImage()},e.typeName="FreehandMarker",e.title="Freehand marker",e.icon='<svg viewBox="0 0 24 24"><path d="M9.75 20.85c1.78-.7 1.39-2.63.49-3.85-.89-1.25-2.12-2.11-3.36-2.94A9.817 9.817 0 014.54 12c-.28-.33-.85-.94-.27-1.06.59-.12 1.61.46 2.13.68.91.38 1.81.82 2.65 1.34l1.01-1.7C8.5 10.23 6.5 9.32 4.64 9.05c-1.06-.16-2.18.06-2.54 1.21-.32.99.19 1.99.77 2.77 1.37 1.83 3.5 2.71 5.09 4.29.34.33.75.72.95 1.18.21.44.16.47-.31.47-1.24 0-2.79-.97-3.8-1.61l-1.01 1.7c1.53.94 4.09 2.41 5.96 1.79m11.09-15.6c.22-.22.22-.58 0-.79l-1.3-1.3a.562.562 0 00-.78 0l-1.02 1.02 2.08 2.08M11 10.92V13h2.08l6.15-6.15-2.08-2.08L11 10.92z"/></svg>',e}(ai),Tl=function(t){function e(i,o,r){var s=t.call(this,i,r||'<svg viewBox="0 0 24 24"><path d="M8 14v4l-6-6 6-6v4h8V6l6 6-6 6v-4H8z"/></svg>')||this;return s.typeBoxes=[],s.currentType=o,s.setCurrentType=s.setCurrentType.bind(s),s}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");o.style.display="flex",o.style.overflow="hidden",o.style.flexGrow="2";for(var r=function(a){var c="both";switch(a){case 0:c="both";break;case 1:c="start";break;case 2:c="end";break;case 3:c="none"}var f=document.createElement("div");if(f.style.display="flex",f.style.flexGrow="2",f.style.alignItems="center",f.style.justifyContent="space-between",f.style.padding="5px",f.style.borderWidth="2px",f.style.borderStyle="solid",f.style.borderColor=c===s.currentType?_.settings.toolboxAccentColor:"transparent",f.addEventListener("click",function(){i.setCurrentType(c,f)}),o.appendChild(f),c==="both"||c==="start"){var g=document.createElement("div");g.style.display="flex",g.style.alignItems="center",g.style.minHeight="20px",g.innerHTML=`<svg viewBox="0 0 10 10" width="10" height="10" xmlns="http://www.w3.org/2000/svg">
          <polygon points="0,5 10,0 10,10" fill="`+_.settings.toolboxColor+`" />
        </svg>`,g.style.marginLeft="5px",f.appendChild(g)}var b=document.createElement("div");b.style.display="flex",b.style.alignItems="center",b.style.minHeight="20px",b.style.flexGrow="2";var w=document.createElement("hr");if(w.style.minWidth="20px",w.style.border="0px",w.style.borderTop="3px solid "+_.settings.toolboxColor,w.style.flexGrow="2",b.appendChild(w),f.appendChild(b),c==="both"||c==="end"){var I=document.createElement("div");I.style.display="flex",I.style.alignItems="center",I.style.minHeight="20px",I.innerHTML=`<svg viewBox="0 0 10 10" width="10" height="10" xmlns="http://www.w3.org/2000/svg">
          <polygon points="0,0 10,5 0,10" fill="`+_.settings.toolboxColor+`" />
        </svg>`,I.style.marginRight="5px",f.appendChild(I)}s.typeBoxes.push(f)},s=this,n=0;n<4;n++)r(n);return o},e.prototype.setCurrentType=function(i,o){this.currentType=i,this.typeBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onArrowTypeChanged&&this.onArrowTypeChanged(this.currentType)},e}(Se),bi=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.arrowType="end",s.arrowBaseHeight=10,s.arrowBaseWidth=10,s.getArrowPoints=s.getArrowPoints.bind(s),s.setArrowType=s.setArrowType.bind(s),s.arrowTypePanel=new Tl("Arrow type","end"),s.arrowTypePanel.onArrowTypeChanged=s.setArrowType,s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.arrow1&&i!==this.arrow2)},e.prototype.getArrowPoints=function(i,o){var r=this.arrowBaseWidth+2*this.strokeWidth,s=this.arrowBaseHeight+2*this.strokeWidth;return i-r/2+","+(o+s/2)+" "+i+","+(o-s/2)+" "+(i+r/2)+","+(o+s/2)},e.prototype.createTips=function(){this.arrow1=k.createPolygon(this.getArrowPoints(this.x1,this.y1),[["fill",this.strokeColor]]),this.arrow1.transform.baseVal.appendItem(k.createTransform()),this.visual.appendChild(this.arrow1),this.arrow2=k.createPolygon(this.getArrowPoints(this.x2,this.y2),[["fill",this.strokeColor]]),this.arrow2.transform.baseVal.appendItem(k.createTransform()),this.visual.appendChild(this.arrow2)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="creating"&&this.createTips()},e.prototype.adjustVisual=function(){if(t.prototype.adjustVisual.call(this),this.arrow1&&this.arrow2&&(this.arrow1.style.display=this.arrowType==="both"||this.arrowType==="start"?"":"none",this.arrow2.style.display=this.arrowType==="both"||this.arrowType==="end"?"":"none",k.setAttributes(this.arrow1,[["points",this.getArrowPoints(this.x1,this.y1)],["fill",this.strokeColor]]),k.setAttributes(this.arrow2,[["points",this.getArrowPoints(this.x2,this.y2)],["fill",this.strokeColor]]),Math.abs(this.x1-this.x2)>.1)){var i=180*Math.atan((this.y2-this.y1)/(this.x2-this.x1))/Math.PI+90*Math.sign(this.x1-this.x2),o=this.arrow1.transform.baseVal.getItem(0);o.setRotate(i,this.x1,this.y1),this.arrow1.transform.baseVal.replaceItem(o,0);var r=this.arrow2.transform.baseVal.getItem(0);r.setRotate(i+180,this.x2,this.y2),this.arrow2.transform.baseVal.replaceItem(r,0)}},e.prototype.setArrowType=function(i){this.arrowType=i,this.adjustVisual()},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel,this.arrowTypePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({arrowType:this.arrowType},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i);var o=i;this.arrowType=o.arrowType,this.createTips(),this.adjustVisual()},e.typeName="ArrowMarker",e.title="Arrow marker",e.icon='<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 7 15.59V9H5v10h10v-2H8.41L19 6.41z"/></svg>',e}(co),Us=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.fillColor=r.defaultFillColor,s.strokeWidth=0,s.fillPanel=new Bt("Color",r.defaultColorSet,r.defaultFillColor),s.fillPanel.onColorChanged=s.setFillColor,s}return et(e,t),Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.fillPanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=t.prototype.getState.call(this);return i.typeName=e.typeName,i},e.typeName="CoverMarker",e.title="Cover marker",e.icon='<svg viewBox="0 0 24 24"><path d="M4 6v13h16V6H4z"/></svg>',e}(Vs),Xs=function(t){function e(i,o,r,s){var n=t.call(this,i,s||'<svg viewBox="0 0 24 24"><path d="M17.66 8L12 2.35 6.34 8A8.02 8.02 0 004 13.64c0 2 .78 4.11 2.34 5.67a7.99 7.99 0 0011.32 0c1.56-1.56 2.34-3.67 2.34-5.67S19.22 9.56 17.66 8M6 14c0-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 18 12 18 14H6z"/></svg>')||this;return n.opacities=[],n.opacityBoxes=[],n.opacities=o,n.currentOpacity=r,n.setCurrentOpacity=n.setCurrentOpacity.bind(n),n}return et(e,t),e.prototype.getUi=function(){var i=this,o=document.createElement("div");return o.style.display="flex",o.style.overflow="hidden",o.style.flexGrow="2",o.style.justifyContent="space-between",this.opacities.forEach(function(r){var s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.padding="5px",s.style.borderWidth="2px",s.style.borderStyle="solid",s.style.borderColor=r===i.currentOpacity?_.settings.toolboxAccentColor:"transparent",s.addEventListener("click",function(){i.setCurrentOpacity(r,s)}),o.appendChild(s);var n=document.createElement("div");n.innerText=100*r+"%",s.appendChild(n),i.opacityBoxes.push(s)}),o},e.prototype.setCurrentOpacity=function(i,o){this.currentOpacity=i,this.opacityBoxes.forEach(function(r){r.style.borderColor=r===o?_.settings.toolboxAccentColor:"transparent"}),this.onOpacityChanged&&this.onOpacityChanged(this.currentOpacity)},e}(Se),Ci=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.setOpacity=s.setOpacity.bind(s),s.fillColor=r.defaultHighlightColor,s.strokeWidth=0,s.opacity=r.defaultHighlightOpacity,s.fillPanel=new Bt("Color",r.defaultColorSet,s.fillColor),s.fillPanel.onColorChanged=s.setFillColor,s.opacityPanel=new Xs("Opacity",r.defaultOpacitySteps,s.opacity),s.opacityPanel.onOpacityChanged=s.setOpacity,s}return et(e,t),e.prototype.setOpacity=function(i){this.opacity=i,this.visual&&k.setAttributes(this.visual,[["opacity",this.opacity.toString()]])},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.fillPanel,this.opacityPanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=t.prototype.getState.call(this);return i.typeName=e.typeName,i},e.typeName="HighlightMarker",e.title="Highlight marker",e.icon='<svg viewBox="0 0 24 24"><path d="M18.5 1.15c-.53 0-1.04.19-1.43.58l-5.81 5.82 5.65 5.65 5.82-5.81c.77-.78.77-2.04 0-2.83l-2.84-2.83c-.39-.39-.89-.58-1.39-.58M10.3 8.5l-5.96 5.96c-.78.78-.78 2.04.02 2.85C3.14 18.54 1.9 19.77.67 21h5.66l.86-.86c.78.76 2.03.75 2.81-.02l5.95-5.96"/></svg>',e}(Us),Ks='<svg viewBox="0 0 24 24"><path d="M19 11.5s-2 2.17-2 3.5a2 2 0 002 2 2 2 0 002-2c0-1.33-2-3.5-2-3.5M5.21 10L10 5.21 14.79 10m1.77-1.06L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.56-.59 1.53 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.59.59-1.56 0-2.12z"/></svg>',Uo=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.bgColor="transparent",s.tipPosition={x:0,y:0},s.tipBase1Position={x:0,y:0},s.tipBase2Position={x:0,y:0},s.tipMoving=!1,s.color=r.defaultStrokeColor,s.bgColor=r.defaultFillColor,s.fontFamily=r.defaultFontFamily,s.defaultSize={x:100,y:30},s.setBgColor=s.setBgColor.bind(s),s.getTipPoints=s.getTipPoints.bind(s),s.positionTip=s.positionTip.bind(s),s.setTipPoints=s.setTipPoints.bind(s),s.colorPanel=new Bt("Text color",r.defaultColorSet,s.color,'<svg viewBox="0 0 24 24"><path d="M9.62 12L12 5.67 14.37 12M11 3L5.5 17h2.25l1.12-3h6.25l1.13 3h2.25L13 3h-2z"/></svg>'),s.colorPanel.onColorChanged=s.setColor,s.bgColorPanel=new Bt("Fill color",r.defaultColorSet,s.bgColor,Ks),s.bgColorPanel.onColorChanged=s.setBgColor,s.fontFamilyPanel=new Gs("Font",r.defaultFontFamilies,r.defaultFontFamily),s.fontFamilyPanel.onFontChanged=s.setFont,s.tipGrip=new ho,s.tipGrip.visual.transform.baseVal.appendItem(k.createTransform()),s.controlBox.appendChild(s.tipGrip.visual),s}return et(e,t),e.prototype.ownsTarget=function(i){return t.prototype.ownsTarget.call(this,i)||this.tipGrip.ownsTarget(i)||this.tip===i},e.prototype.createTip=function(){k.setAttributes(this.bgRectangle,[["fill",this.bgColor],["rx","10px"]]),this.tip=k.createPolygon(this.getTipPoints(),[["fill",this.bgColor]]),this.visual.appendChild(this.tip)},e.prototype.pointerDown=function(i,o){this.state==="new"&&t.prototype.pointerDown.call(this,i,o),this.state==="creating"?this.createTip():this.tipGrip.ownsTarget(o)?(this.manipulationStartLeft=this.left,this.manipulationStartTop=this.top,this.tipMoving=!0):t.prototype.pointerDown.call(this,i,o)},e.prototype.pointerUp=function(i){if(this.tipMoving)this.tipMoving=!1;else{var o=this.state==="creating";t.prototype.pointerUp.call(this,i),this.setTipPoints(o),this.positionTip()}},e.prototype.manipulate=function(i){if(this.tipMoving){var o=this.unrotatePoint(i);this.tipPosition={x:o.x-this.manipulationStartLeft,y:o.y-this.manipulationStartTop},this.positionTip()}else t.prototype.manipulate.call(this,i)},e.prototype.setBgColor=function(i){this.bgRectangle&&this.tip&&(k.setAttributes(this.bgRectangle,[["fill",i]]),k.setAttributes(this.tip,[["fill",i]])),this.bgColor=i,this.fillColorChanged(i)},e.prototype.getTipPoints=function(){return this.setTipPoints(this.state==="creating"),this.tipBase1Position.x+","+this.tipBase1Position.y+" "+this.tipBase2Position.x+","+this.tipBase2Position.y+" "+this.tipPosition.x+","+this.tipPosition.y},e.prototype.setTipPoints=function(i){i===void 0&&(i=!1);var o=Math.min(this.height/2,15),r=this.height/5;i&&(this.tipPosition={x:o+r/2,y:this.height+20});var s=Math.atan(this.height/2/(this.width/2));this.tipPosition.x<this.width/2&&this.tipPosition.y<this.height/2?s<Math.atan((this.height/2-this.tipPosition.y)/(this.width/2-this.tipPosition.x))?(r=this.width/5,o=Math.min(this.width/2,15),this.tipBase1Position={x:o,y:0},this.tipBase2Position={x:o+r,y:0}):(this.tipBase1Position={x:0,y:o},this.tipBase2Position={x:0,y:o+r}):this.tipPosition.x>=this.width/2&&this.tipPosition.y<this.height/2?s<Math.atan((this.height/2-this.tipPosition.y)/(this.tipPosition.x-this.width/2))?(r=this.width/5,o=Math.min(this.width/2,15),this.tipBase1Position={x:this.width-o-r,y:0},this.tipBase2Position={x:this.width-o,y:0}):(this.tipBase1Position={x:this.width,y:o},this.tipBase2Position={x:this.width,y:o+r}):this.tipPosition.x>=this.width/2&&this.tipPosition.y>=this.height/2?s<Math.atan((this.tipPosition.y-this.height/2)/(this.tipPosition.x-this.width/2))?(r=this.width/5,o=Math.min(this.width/2,15),this.tipBase1Position={x:this.width-o-r,y:this.height},this.tipBase2Position={x:this.width-o,y:this.height}):(this.tipBase1Position={x:this.width,y:this.height-o-r},this.tipBase2Position={x:this.width,y:this.height-o}):s<Math.atan((this.tipPosition.y-this.height/2)/(this.width/2-this.tipPosition.x))?(r=this.width/5,o=Math.min(this.width/2,15),this.tipBase1Position={x:o,y:this.height},this.tipBase2Position={x:o+r,y:this.height}):(this.tipBase1Position={x:0,y:this.height-o},this.tipBase2Position={x:0,y:this.height-o-r})},e.prototype.resize=function(i){t.prototype.resize.call(this,i),this.positionTip()},e.prototype.positionTip=function(){k.setAttributes(this.tip,[["points",this.getTipPoints()]]);var i=this.tipGrip.visual.transform.baseVal.getItem(0);i.setTranslate(this.tipPosition.x,this.tipPosition.y),this.tipGrip.visual.transform.baseVal.replaceItem(i,0)},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.colorPanel,this.bgColorPanel,this.fontFamilyPanel]},enumerable:!1,configurable:!0}),e.prototype.select=function(){this.positionTip(),t.prototype.select.call(this)},e.prototype.getState=function(){var i=Object.assign({bgColor:this.bgColor,tipPosition:this.tipPosition},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){var o=i;this.bgColor=o.bgColor,this.tipPosition=o.tipPosition,t.prototype.restoreState.call(this,i),this.createTip(),this.setTipPoints()},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.tipPosition={x:this.tipPosition.x*i,y:this.tipPosition.y*o},this.positionTip()},e.typeName="CalloutMarker",e.title="Callout marker",e.icon='<svg viewBox="0 0 24 24"><path d="M4 2h16a2 2 0 012 2v12a2 2 0 01-2 2h-4l-4 4-4-4H4a2 2 0 01-2-2V4a2 2 0 012-2m0 2v12h4.83L12 19.17 15.17 16H20V4H4m2 3h12v2H6V7m0 4h10v2H6v-2z"/></svg>',e}(Te),Wi=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.fillColor="transparent",s.strokeColor="transparent",s.strokeWidth=0,s.strokeDasharray="",s.opacity=1,s.strokeColor=r.defaultColor,s.strokeWidth=r.defaultStrokeWidth,s.strokeDasharray=r.defaultStrokeDasharray,s.fillColor=r.defaultFillColor,s.setStrokeColor=s.setStrokeColor.bind(s),s.setFillColor=s.setFillColor.bind(s),s.setStrokeWidth=s.setStrokeWidth.bind(s),s.setStrokeDasharray=s.setStrokeDasharray.bind(s),s.setOpacity=s.setOpacity.bind(s),s.createVisual=s.createVisual.bind(s),s.strokePanel=new Bt("Line color",jo(r.defaultColorSet,["transparent"]),r.defaultColor),s.strokePanel.onColorChanged=s.setStrokeColor,s.fillPanel=new Bt("Fill color",jo(r.defaultColorSet,["transparent"]),s.fillColor,Ks),s.fillPanel.onColorChanged=s.setFillColor,s.strokeWidthPanel=new Ne("Line width",r.defaultStrokeWidths,r.defaultStrokeWidth),s.strokeWidthPanel.onWidthChanged=s.setStrokeWidth,s.strokeStylePanel=new hi("Line style",r.defaultStrokeDasharrays,r.defaultStrokeDasharray),s.strokeStylePanel.onStyleChanged=s.setStrokeDasharray,s.opacityPanel=new Xs("Opacity",r.defaultOpacitySteps,s.opacity),s.opacityPanel.onOpacityChanged=s.setOpacity,s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.visual)},e.prototype.createVisual=function(){this.visual=k.createEllipse(this.width/2,this.height/2,[["fill",this.fillColor],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["stroke-dasharray",this.strokeDasharray],["opacity",this.opacity.toString()]]),this.addMarkerVisualToContainer(this.visual)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="new"&&(this.createVisual(),this.moveVisual(i),this._state="creating")},e.prototype.manipulate=function(i){t.prototype.manipulate.call(this,i)},e.prototype.resize=function(i){t.prototype.resize.call(this,i),this.setSize()},e.prototype.setSize=function(){t.prototype.setSize.call(this),k.setAttributes(this.visual,[["cx",(this.width/2).toString()],["cy",(this.height/2).toString()],["rx",(this.width/2).toString()],["ry",(this.height/2).toString()]])},e.prototype.pointerUp=function(i){t.prototype.pointerUp.call(this,i),this.setSize()},e.prototype.setStrokeColor=function(i){this.strokeColor=i,this.visual&&k.setAttributes(this.visual,[["stroke",this.strokeColor]]),this.colorChanged(i)},e.prototype.setFillColor=function(i){this.fillColor=i,this.visual&&k.setAttributes(this.visual,[["fill",this.fillColor]]),this.fillColorChanged(i)},e.prototype.setStrokeWidth=function(i){this.strokeWidth=i,this.visual&&k.setAttributes(this.visual,[["stroke-width",this.strokeWidth.toString()]])},e.prototype.setStrokeDasharray=function(i){this.strokeDasharray=i,this.visual&&k.setAttributes(this.visual,[["stroke-dasharray",this.strokeDasharray]])},e.prototype.setOpacity=function(i){this.opacity=i,this.visual&&k.setAttributes(this.visual,[["opacity",this.opacity.toString()]])},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.fillPanel,this.strokeWidthPanel,this.strokeStylePanel,this.opacityPanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({fillColor:this.fillColor,strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,opacity:this.opacity},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){var o=i;this.fillColor=o.fillColor,this.strokeColor=o.strokeColor,this.strokeWidth=o.strokeWidth,this.strokeDasharray=o.strokeDasharray,this.opacity=o.opacity,this.createVisual(),t.prototype.restoreState.call(this,i),this.setSize()},e.prototype.scale=function(i,o){t.prototype.scale.call(this,i,o),this.setSize()},e.typeName="EllipseMarker",e.title="Ellipse marker",e.icon='<svg viewBox="0 0 24 24"><path d="M12 4C6.5 4 2 7.58 2 12s4.5 8 10 8 10-3.58 10-8-4.5-8-10-8z"/></svg>',e}(ai),_l=function(t){function e(i,o,r){return t.call(this,i,o,r)||this}return et(e,t),Object.defineProperty(e.prototype,"tipLength",{get:function(){return 10+3*this.strokeWidth},enumerable:!1,configurable:!0}),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.tip1&&i!==this.tip2)},e.prototype.createTips=function(){this.tip1=k.createLine(this.x1-this.tipLength/2,this.y1,this.x1+this.tipLength/2,this.y1,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.tip1.transform.baseVal.appendItem(k.createTransform()),this.visual.appendChild(this.tip1),this.tip2=k.createLine(this.x2-this.tipLength/2,this.y2,this.x2+this.tipLength/2,this.y2,[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),this.tip2.transform.baseVal.appendItem(k.createTransform()),this.visual.appendChild(this.tip2)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.state==="creating"&&this.createTips()},e.prototype.adjustVisual=function(){if(t.prototype.adjustVisual.call(this),this.tip1&&this.tip2&&(k.setAttributes(this.tip1,[["x1",(this.x1-this.tipLength/2).toString()],["y1",this.y1.toString()],["x2",(this.x1+this.tipLength/2).toString()],["y2",this.y1.toString()],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),k.setAttributes(this.tip2,[["x1",(this.x2-this.tipLength/2).toString()],["y1",this.y2.toString()],["x2",(this.x2+this.tipLength/2).toString()],["y2",this.y2.toString()],["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()]]),Math.abs(this.x1-this.x2)>.1)){var i=180*Math.atan((this.y2-this.y1)/(this.x2-this.x1))/Math.PI+90*Math.sign(this.x1-this.x2),o=this.tip1.transform.baseVal.getItem(0);o.setRotate(i,this.x1,this.y1),this.tip1.transform.baseVal.replaceItem(o,0);var r=this.tip2.transform.baseVal.getItem(0);r.setRotate(i+180,this.x2,this.y2),this.tip2.transform.baseVal.replaceItem(r,0)}},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=t.prototype.getState.call(this);return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i),this.createTips(),this.adjustVisual()},e.typeName="MeasurementMarker",e.title="Measurement marker",e.icon='<svg viewBox="0 0 24 24"><path d="M1.39 18.36l1.77-1.76L4.58 18l1.06-1.05-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.42 1.41L10.59 12l-1.42-1.41 1.42-1.42 2.47 2.48 1.06-1.06-2.47-2.48 1.41-1.41 1.41 1.41 1.07-1.06-1.42-1.41 1.42-1.42L18 6.7l1.07-1.06-2.47-2.48 1.76-1.77 4.25 4.25L5.64 22.61l-4.25-4.25z"/></svg>',e}(co),Al=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.strokePanel.colors=r.defaultColorSet,s.fillColor="transparent",s}return et(e,t),Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=t.prototype.getState.call(this);return i.typeName=e.typeName,i},e.typeName="EllipseFrameMarker",e.title="Ellipse frame marker",e.icon='<svg viewBox="0 0 24 24"><path d="M12 6c4.41 0 8 2.69 8 6s-3.59 6-8 6-8-2.69-8-6 3.59-6 8-6m0-2C6.5 4 2 7.58 2 12s4.5 8 10 8 10-3.58 10-8-4.5-8-10-8z"/></svg>',e}(Wi),Ll=function(){function t(){this.undoStack=[],this.redoStack=[]}return Object.defineProperty(t.prototype,"isUndoPossible",{get:function(){return this.undoStack.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRedoPossible",{get:function(){return this.redoStack.length>0},enumerable:!1,configurable:!0}),t.prototype.addUndoStep=function(e){this.undoStack.length!==0&&JSON.stringify(this.undoStack[this.undoStack.length-1])===JSON.stringify(e)||(this.undoStack.push(e),JSON.stringify(this.lastRedoStep)!==JSON.stringify(e)&&this.redoStack.splice(0,this.redoStack.length))},t.prototype.undo=function(){if(this.undoStack.length>1){var e=this.undoStack.pop();return e!==void 0&&this.redoStack.push(e),this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:void 0}},t.prototype.redo=function(){return this.lastRedoStep=this.redoStack.pop(),this.lastRedoStep},t}(),Ol=function(t){function e(i,o,r){var s=t.call(this,i,o,r)||this;return s.strokeColor="transparent",s.strokeWidth=0,s.strokeDasharray="",s.curveX=0,s.curveY=0,s.manipulationStartCurveX=0,s.manipulationStartCurveY=0,s.setStrokeColor=s.setStrokeColor.bind(s),s.setStrokeWidth=s.setStrokeWidth.bind(s),s.setStrokeDasharray=s.setStrokeDasharray.bind(s),s.positionGrips=s.positionGrips.bind(s),s.addControlGrips=s.addControlGrips.bind(s),s.adjustVisual=s.adjustVisual.bind(s),s.setupControlBox=s.setupControlBox.bind(s),s.resize=s.resize.bind(s),s.strokeColor=r.defaultColor,s.strokeWidth=r.defaultStrokeWidth,s.strokeDasharray=r.defaultStrokeDasharray,s.strokePanel=new Bt("Line color",r.defaultColorSet,r.defaultColor),s.strokePanel.onColorChanged=s.setStrokeColor,s.strokeWidthPanel=new Ne("Line width",r.defaultStrokeWidths,r.defaultStrokeWidth),s.strokeWidthPanel.onWidthChanged=s.setStrokeWidth,s.strokeStylePanel=new hi("Line style",r.defaultStrokeDasharrays,r.defaultStrokeDasharray),s.strokeStylePanel.onStyleChanged=s.setStrokeDasharray,s}return et(e,t),e.prototype.ownsTarget=function(i){return!(!t.prototype.ownsTarget.call(this,i)&&i!==this.visual&&i!==this.selectorCurve&&i!==this.visibleCurve&&!this.curveGrip.ownsTarget(i))},e.prototype.getPathD=function(){return"M "+this.x1+" "+this.y1+" Q "+this.curveX+" "+this.curveY+", "+this.x2+" "+this.y2},e.prototype.createVisual=function(){this.visual=k.createGroup(),this.selectorCurve=k.createPath(this.getPathD(),[["stroke","transparent"],["stroke-width",(this.strokeWidth+10).toString()],["fill","transparent"]]),this.visibleCurve=k.createPath(this.getPathD(),[["stroke",this.strokeColor],["stroke-width",this.strokeWidth.toString()],["fill","transparent"]]),this.visual.appendChild(this.selectorCurve),this.visual.appendChild(this.visibleCurve),this.addMarkerVisualToContainer(this.visual)},e.prototype.pointerDown=function(i,o){t.prototype.pointerDown.call(this,i,o),this.manipulationStartCurveX=this.curveX,this.manipulationStartCurveY=this.curveY,this.state==="new"&&(this.curveX=i.x,this.curveY=i.y),this.state==="new"?(this.createVisual(),this.adjustVisual(),this._state="creating"):this.curveGrip.ownsTarget(o)&&(this.activeGrip=this.curveGrip,this._state="resize")},e.prototype.adjustVisual=function(){this.selectorCurve&&this.visibleCurve&&(this.selectorCurve.setAttribute("d",this.getPathD()),this.visibleCurve.setAttribute("d",this.getPathD()),k.setAttributes(this.visibleCurve,[["stroke",this.strokeColor]]),k.setAttributes(this.visibleCurve,[["stroke-width",this.strokeWidth.toString()]]),k.setAttributes(this.visibleCurve,[["stroke-dasharray",this.strokeDasharray.toString()]]))},e.prototype.setupControlBox=function(){t.prototype.setupControlBox.call(this),this.curveControlLine1=k.createLine(this.x1,this.y1,this.curveX,this.curveY,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.curveControlLine2=k.createLine(this.x2,this.y2,this.curveX,this.curveY,[["stroke","black"],["stroke-width","1"],["stroke-opacity","0.5"],["stroke-dasharray","3, 2"]]),this.controlBox.insertBefore(this.curveControlLine1,this.controlBox.firstChild),this.controlBox.insertBefore(this.curveControlLine2,this.controlBox.firstChild)},e.prototype.addControlGrips=function(){this.curveGrip=this.createGrip(),this.curveX=0,this.curveY=0,t.prototype.addControlGrips.call(this)},e.prototype.positionGrips=function(){t.prototype.positionGrips.call(this);var i=this.curveGrip.GRIP_SIZE;this.positionGrip(this.curveGrip.visual,this.curveX-i/2,this.curveY-i/2),this.curveControlLine1&&this.curveControlLine2&&(this.curveControlLine1.setAttribute("x1",this.x1.toString()),this.curveControlLine1.setAttribute("y1",this.y1.toString()),this.curveControlLine1.setAttribute("x2",this.curveX.toString()),this.curveControlLine1.setAttribute("y2",this.curveY.toString()),this.curveControlLine2.setAttribute("x1",this.x2.toString()),this.curveControlLine2.setAttribute("y1",this.y2.toString()),this.curveControlLine2.setAttribute("x2",this.curveX.toString()),this.curveControlLine2.setAttribute("y2",this.curveY.toString()))},e.prototype.manipulate=function(i){this.state==="move"&&(this.curveX=this.manipulationStartCurveX+i.x-this.manipulationStartX,this.curveY=this.manipulationStartCurveY+i.y-this.manipulationStartY),t.prototype.manipulate.call(this,i)},e.prototype.resize=function(i){this.activeGrip===this.curveGrip&&(this.curveX=i.x,this.curveY=i.y),t.prototype.resize.call(this,i),this.state==="creating"&&(this.curveX=this.x1+(this.x2-this.x1)/2,this.curveY=this.y1+(this.y2-this.y1)/2)},e.prototype.setStrokeColor=function(i){this.strokeColor=i,this.adjustVisual(),this.colorChanged(i)},e.prototype.setStrokeWidth=function(i){this.strokeWidth=i,this.adjustVisual()},e.prototype.setStrokeDasharray=function(i){this.strokeDasharray=i,this.adjustVisual()},e.prototype.scale=function(i,o){this.curveX=this.curveX*i,this.curveY=this.curveY*o,t.prototype.scale.call(this,i,o)},Object.defineProperty(e.prototype,"toolboxPanels",{get:function(){return[this.strokePanel,this.strokeWidthPanel,this.strokeStylePanel]},enumerable:!1,configurable:!0}),e.prototype.getState=function(){var i=Object.assign({strokeColor:this.strokeColor,strokeWidth:this.strokeWidth,strokeDasharray:this.strokeDasharray,curveX:this.curveX,curveY:this.curveY},t.prototype.getState.call(this));return i.typeName=e.typeName,i},e.prototype.restoreState=function(i){t.prototype.restoreState.call(this,i);var o=i;this.strokeColor=o.strokeColor,this.strokeWidth=o.strokeWidth,this.strokeDasharray=o.strokeDasharray,this.curveX=o.curveX,this.curveY=o.curveY,this.createVisual(),this.adjustVisual()},e.typeName="CurveMarker",e.title="Curve marker",e.icon='<svg viewBox="0 0 24 24"><path d="M18.5 2A1.5 1.5 0 0120 3.5 1.5 1.5 0 0118.5 5c-.23 0-.45-.05-.65-.15l-3.69 3.7.34.45c2.19-1.26 4.76-2 7.5-2l1 .03v2.01L22 9c-2.58 0-5 .75-7 2.04A3.96 3.96 0 0111.04 15C9.75 17 9 19.42 9 22l.04 1H7.03L7 22c0-2.74.74-5.31 2-7.5l-.45-.34-3.7 3.69c.1.2.15.42.15.65A1.5 1.5 0 013.5 20 1.5 1.5 0 012 18.5 1.5 1.5 0 013.5 17c.23 0 .45.05.65.15l3.69-3.7C7.31 12.78 7 11.92 7 11a4 4 0 014-4c.92 0 1.78.31 2.45.84l3.7-3.69c-.1-.2-.15-.42-.15-.65A1.5 1.5 0 0118.5 2M11 9a2 2 0 00-2 2 2 2 0 002 2 2 2 0 002-2 2 2 0 00-2-2z"/></svg>',e}(js),jt=function(){function t(e,i){i===void 0&&(i=!1),this.cancelable=!1,this._defaultPrevented=!1,this.markerArea=e,this.cancelable=i}return Object.defineProperty(t.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this._defaultPrevented=!0},t}(),Il=function(t){function e(i,o,r){var s=t.call(this,i,!1)||this;return s.dataUrl=o,s.state=r,s}return et(e,t),e}(jt),ce=function(t){function e(i,o,r){r===void 0&&(r=!1);var s=t.call(this,i,r)||this;return s.marker=o,s}return et(e,t),e}(jt),Dl=function(){function t(){this.render=[],this.beforeclose=[],this.close=[],this.show=[],this.restorestate=[],this.markerselect=[],this.markerdeselect=[],this.markercreating=[],this.markercreate=[],this.markerbeforedelete=[],this.markerdelete=[],this.focus=[],this.blur=[]}return t.prototype.addEventListener=function(e,i){this[e].push(i)},t.prototype.removeEventListener=function(e,i){var o=this[e].indexOf(i);o>-1&&this[e].splice(o,1)},t}(),Hl=function(){function t(e){this.touchPoints=0,this._availableMarkerTypes=this.DEFAULT_MARKER_TYPES,this.mode="select",this.markers=[],this.isDragging=!1,this.renderEventListeners=[],this.closeEventListeners=[],this.settings=new Pl,this._isOpen=!1,this.undoRedoManager=new Ll,this.renderAtNaturalSize=!1,this.renderImageType="image/png",this.renderMarkersOnly=!1,this.zoomSteps=[1,1.5,2,4],this._zoomLevel=1,this.prevPanPoint={x:0,y:0},this.eventListeners=new Dl,this._silentRenderMode=!1,this._isFocused=!1,_.settings=_.defaultSettings,this.uiStyleSettings=_.settings,this.target=e,this.targetRoot=document.body,this.width=e.clientWidth,this.height=e.clientHeight,_.removeStyleSheet(),this.open=this.open.bind(this),this.setTopLeft=this.setTopLeft.bind(this),this.toolbarButtonClicked=this.toolbarButtonClicked.bind(this),this.createNewMarker=this.createNewMarker.bind(this),this.addNewMarker=this.addNewMarker.bind(this),this.markerCreated=this.markerCreated.bind(this),this.setCurrentMarker=this.setCurrentMarker.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onDblClick=this.onDblClick.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.overrideOverflow=this.overrideOverflow.bind(this),this.restoreOverflow=this.restoreOverflow.bind(this),this.close=this.close.bind(this),this.closeUI=this.closeUI.bind(this),this.addCloseEventListener=this.addCloseEventListener.bind(this),this.removeCloseEventListener=this.removeCloseEventListener.bind(this),this.addRenderEventListener=this.addRenderEventListener.bind(this),this.removeRenderEventListener=this.removeRenderEventListener.bind(this),this.clientToLocalCoordinates=this.clientToLocalCoordinates.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.deleteSelectedMarker=this.deleteSelectedMarker.bind(this),this.setWindowHeight=this.setWindowHeight.bind(this),this.removeMarker=this.removeMarker.bind(this),this.colorChanged=this.colorChanged.bind(this),this.fillColorChanged=this.fillColorChanged.bind(this),this.onPopupTargetResize=this.onPopupTargetResize.bind(this),this.showNotesEditor=this.showNotesEditor.bind(this),this.hideNotesEditor=this.hideNotesEditor.bind(this),this.stepZoom=this.stepZoom.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this)}return Object.defineProperty(t.prototype,"ALL_MARKER_TYPES",{get:function(){return[vi,Me,bi,Te,Al,Wi,Ci,Uo,_l,Us,co,Ol]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DEFAULT_MARKER_TYPES",{get:function(){return[vi,Me,bi,Te,Wi,Ci,Uo]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BASIC_MARKER_TYPES",{get:function(){return[vi,Me,bi,Te,Ci]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableMarkerTypes",{get:function(){return this._availableMarkerTypes},set:function(e){var i=this;this._availableMarkerTypes.splice(0),e.forEach(function(o){if(typeof o=="string"){var r=i.ALL_MARKER_TYPES.find(function(s){return s.typeName===o});r!==void 0&&i._availableMarkerTypes.push(r)}else i._availableMarkerTypes.push(o)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zoomLevel",{get:function(){return this._zoomLevel},set:function(e){this._zoomLevel=e,this.editorCanvas&&this.contentDiv&&(this.editorCanvas.style.transform="scale("+this._zoomLevel+")",this.contentDiv.scrollTo({left:(this.editorCanvas.clientWidth*this._zoomLevel-this.contentDiv.clientWidth)/2,top:(this.editorCanvas.clientHeight*this._zoomLevel-this.contentDiv.clientHeight)/2}))},enumerable:!1,configurable:!0}),t.prototype.open=function(){this.setupResizeObserver(),this.setEditingTarget(),this.setTopLeft(),this.initMarkerCanvas(),this.initOverlay(),this.attachEvents(),this.settings.displayMode==="popup"&&this.onPopupTargetResize(),Go.isLicensed||this.addLogo(),this._isOpen=!0,this._isFocused=!0},t.prototype.show=function(){var e=this;this.setWindowHeight(),this.showUI(),this.open(),this.eventListeners.show.forEach(function(i){return i(new jt(e))})},t.prototype.render=function(){return zo(this,void 0,void 0,function(){var e;return Vo(this,function(i){switch(i.label){case 0:return this.setCurrentMarker(),(e=new kl).naturalSize=this.renderAtNaturalSize,e.imageType=this.renderImageType,e.imageQuality=this.renderImageQuality,e.markersOnly=this.renderMarkersOnly,e.width=this.renderWidth,e.height=this.renderHeight,[4,e.rasterize(this.target instanceof HTMLImageElement?this.target:null,this.markerImage,this.renderTarget)];case 1:return i.sent(),[4,e.rasterize(this.target instanceof HTMLImageElement?this.target:null,this.markerImage,this.renderTarget)];case 2:return[2,i.sent()]}})})},t.prototype.close=function(e){var i=this;if(e===void 0&&(e=!1),this.isOpen){var o=!1;e||this.eventListeners.beforeclose.forEach(function(r){var s=new jt(i,!0);r(s),s.defaultPrevented&&(o=!0)}),o||(this.coverDiv&&this.closeUI(),this.targetObserver&&this.targetObserver.unobserve(this.target),this.settings.displayMode==="popup"&&window.removeEventListener("resize",this.setWindowHeight),this.eventListeners.close.forEach(function(r){return r(new jt(i))}),this.detachEvents(),this._isOpen=!1)}},t.prototype.addMarkersToToolbar=function(){for(var e,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];(e=this._availableMarkerTypes).push.apply(e,i)},t.prototype.addRenderEventListener=function(e){this.addEventListener("render",function(i){e(i.dataUrl,i.state)})},t.prototype.removeRenderEventListener=function(e){},t.prototype.addCloseEventListener=function(e){this.addEventListener("close",function(){e()})},t.prototype.removeCloseEventListener=function(e){},t.prototype.setupResizeObserver=function(){var e=this;this.settings.displayMode==="inline"?window.ResizeObserver&&(this.targetObserver=new ResizeObserver(function(){e.resize(e.target.clientWidth,e.target.clientHeight)}),this.targetObserver.observe(this.target)):this.settings.displayMode==="popup"&&(window.ResizeObserver&&(this.targetObserver=new ResizeObserver(function(){return e.onPopupTargetResize()}),this.targetObserver.observe(this.editorCanvas)),window.addEventListener("resize",this.setWindowHeight))},t.prototype.onPopupTargetResize=function(){var e=1*this.target.clientWidth/this.target.clientHeight,i=this.editorCanvas.clientWidth/e>this.editorCanvas.clientHeight?this.editorCanvas.clientHeight*e:this.editorCanvas.clientWidth,o=i<this.editorCanvas.clientWidth?this.editorCanvas.clientHeight:this.editorCanvas.clientWidth/e;this.resize(i,o)},t.prototype.setWindowHeight=function(){this.windowHeight=window.innerHeight},t.prototype.resize=function(e,i){var o=e/this.imageWidth,r=i/this.imageHeight;this.imageWidth=Math.round(e),this.imageHeight=Math.round(i),this.target instanceof HTMLImageElement&&this.editingTarget instanceof HTMLImageElement&&(this.editingTarget.src=this.target.src),this.editingTarget.width=this.imageWidth,this.editingTarget.height=this.imageHeight,this.editingTarget.style.width=this.imageWidth+"px",this.editingTarget.style.height=this.imageHeight+"px",this.markerImage.setAttribute("width",this.imageWidth.toString()),this.markerImage.setAttribute("height",this.imageHeight.toString()),this.markerImage.setAttribute("viewBox","0 0 "+this.imageWidth.toString()+" "+this.imageHeight.toString()),this.markerImageHolder.style.width=this.imageWidth+"px",this.markerImageHolder.style.height=this.imageHeight+"px",this.overlayContainer.style.width=this.imageWidth+"px",this.overlayContainer.style.height=this.imageHeight+"px",this.settings.displayMode!=="popup"?this.coverDiv.style.width=this.imageWidth.toString()+"px":(this.setTopLeft(),this.positionMarkerImage()),this.toolbar!==void 0&&this.toolbar.adjustLayout(),this.positionLogo(),this.scaleMarkers(o,r)},t.prototype.scaleMarkers=function(e,i){var o;this.currentMarker&&this.currentMarker instanceof Te||(o=this.currentMarker,this.setCurrentMarker()),this.markers.forEach(function(r){return r.scale(e,i)}),o!==void 0&&this.setCurrentMarker(o)},t.prototype.setEditingTarget=function(){this.imageWidth=Math.round(this.target.clientWidth),this.imageHeight=Math.round(this.target.clientHeight),this.target instanceof HTMLImageElement&&this.editingTarget instanceof HTMLImageElement&&(this.editingTarget.src=this.target.src),this.editingTarget.width=this.imageWidth,this.editingTarget.height=this.imageHeight,this.editingTarget.style.width=this.imageWidth+"px",this.editingTarget.style.height=this.imageHeight+"px"},t.prototype.setTopLeft=function(){var e=this.editingTarget.getBoundingClientRect(),i=this.editorCanvas.getBoundingClientRect();this.left=e.left-i.left,this.top=e.top-i.top},t.prototype.initMarkerCanvas=function(){this.markerImageHolder=document.createElement("div"),this.markerImageHolder.style.setProperty("touch-action","pinch-zoom"),this.markerImage=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.markerImage.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.markerImage.setAttribute("width",this.imageWidth.toString()),this.markerImage.setAttribute("height",this.imageHeight.toString()),this.markerImage.setAttribute("viewBox","0 0 "+this.imageWidth.toString()+" "+this.imageHeight.toString()),this.markerImage.style.pointerEvents="auto",this.markerImageHolder.style.position="absolute",this.markerImageHolder.style.width=this.imageWidth+"px",this.markerImageHolder.style.height=this.imageHeight+"px",this.markerImageHolder.style.transformOrigin="top left",this.positionMarkerImage(),this.defs=k.createDefs(),this.markerImage.appendChild(this.defs),this.markerImageHolder.appendChild(this.markerImage),this.editorCanvas.appendChild(this.markerImageHolder)},t.prototype.initOverlay=function(){this.overlayContainer=document.createElement("div"),this.overlayContainer.style.position="absolute",this.overlayContainer.style.left="0px",this.overlayContainer.style.top="0px",this.overlayContainer.style.width=this.imageWidth+"px",this.overlayContainer.style.height=this.imageHeight+"px",this.overlayContainer.style.display="flex",this.markerImageHolder.appendChild(this.overlayContainer)},t.prototype.positionMarkerImage=function(){this.markerImageHolder.style.top=this.top/this.zoomLevel+"px",this.markerImageHolder.style.left=this.left/this.zoomLevel+"px"},t.prototype.attachEvents=function(){this.markerImage.addEventListener("pointerdown",this.onPointerDown),this.markerImage.addEventListener("dblclick",this.onDblClick),this.attachWindowEvents()},t.prototype.attachWindowEvents=function(){window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerOut),window.addEventListener("pointerout",this.onPointerOut),window.addEventListener("pointerleave",this.onPointerUp),window.addEventListener("resize",this.onWindowResize),window.addEventListener("keyup",this.onKeyUp)},t.prototype.detachEvents=function(){this.markerImage.removeEventListener("pointerdown",this.onPointerDown),this.markerImage.removeEventListener("dblclick",this.onDblClick),this.detachWindowEvents()},t.prototype.detachWindowEvents=function(){window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerOut),window.removeEventListener("pointerout",this.onPointerOut),window.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("resize",this.onWindowResize),window.removeEventListener("keyup",this.onKeyUp)},t.prototype.addLogo=function(){this.logoUI=document.createElement("div"),this.logoUI.style.display="inline-block",this.logoUI.style.margin="0px",this.logoUI.style.padding="0px",this.logoUI.style.fill="#333333";var e=document.createElement("a");e.href="https://markerjs.com/",e.target="_blank",e.innerHTML='<svg viewBox="0 0 112 96" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path fill="#e5f20d" fill-opacity=".647" d="M0 40.386h111.96V95.62H0z"/><path d="M93.61 61.452c0 .987-.328 1.831-.987 2.53-.657.7-1.52 1.048-2.591 1.048-1.481 0-2.222-.74-2.222-2.22 0-16.617-.533-29.347-1.604-38.192-1.068-8.842-2.92-13.265-5.552-13.265-4.443 0-10.94 15.509-19.497 46.52v.124c0 .987-.328 1.831-.987 2.53-.657.7-1.52 1.048-2.592 1.048-1.48 0-2.22-.74-2.22-2.22 0-3.29.165-8.392.493-15.302.33-7.732.494-13.82.494-18.262 0-6.17-.186-10.55-.556-13.142-.37-2.591-1.172-3.887-2.406-3.887-2.796 0-6.333 5.12-10.612 15.363C38.494 34.367 34.01 46.44 29.32 60.34l-1.11 3.209a5.714 5.714 0 01-1.42 2.097c-.617.578-1.295.864-2.036.864-.987 0-1.644-.081-1.974-.247-.328-.162-.533-.656-.617-1.48-.41-4.03-.74-9.418-.987-16.165-.163-1.728-.329-4.566-.494-8.515-.822-13.901-1.562-23.3-2.221-28.196-.657-4.893-.987-7.628-.987-8.205 0-.657.33-1.44.987-2.345.659-.903 1.276-1.357 1.85-1.357 1.319 0 2.387.947 3.21 2.838.411.906.863 4.526 1.357 10.859.493 6.335.905 14.19 1.233 23.568l.617 18.88c4.527-13.983 9.216-26.673 14.068-38.068C45.65 6.686 50.093.988 54.123.988c2.715 0 4.566 1.974 5.553 5.923.987 3.949 1.481 9.667 1.481 17.152 0 3.949-.081 9.625-.247 17.029l-.123 5.676c3.373-11.762 6.725-21.634 10.057-29.615 3.331-7.979 6.685-11.97 10.056-11.97 8.475 0 12.71 18.757 12.71 56.269z" fill-rule="nonzero"/></svg>',e.title="Powered by marker.js",e.style.display="grid",e.style.alignItems="center",e.style.justifyItems="center",e.style.padding="3px",e.style.width="20px",e.style.height="20px",this.logoUI.appendChild(e),this.editorCanvas.appendChild(this.logoUI),this.logoUI.style.position="absolute",this.logoUI.style.pointerEvents="all",this.positionLogo()},t.prototype.positionLogo=function(){this.logoUI&&(this.uiStyleSettings.logoPosition!=="right"?this.logoUI.style.left=this.markerImageHolder.offsetLeft+10+"px":this.logoUI.style.left=this.markerImageHolder.offsetLeft+this.markerImageHolder.offsetWidth-this.logoUI.clientWidth-10+"px",this.logoUI.style.top=this.markerImageHolder.offsetTop+this.markerImageHolder.offsetHeight-this.logoUI.clientHeight-10+"px")},t.prototype.overrideOverflow=function(){this.scrollXState=window.scrollX,this.scrollYState=window.scrollY,this.bodyOverflowState=document.body.style.overflow,window.scroll({top:0,left:0}),document.body.style.overflow="hidden"},t.prototype.restoreOverflow=function(){document.body.style.overflow=this.bodyOverflowState,window.scroll({top:this.scrollYState,left:this.scrollXState})},t.prototype.showUI=function(){switch(this.settings.displayMode==="popup"&&this.overrideOverflow(),this.coverDiv=document.createElement("div"),this.coverDiv.style.visibility=this._silentRenderMode?"hidden":"visible",this.coverDiv.className=_.CLASS_PREFIX,this.coverDiv.style.fontSize="16px",this.coverDiv.style.userSelect="none",this.settings.displayMode){case"inline":this.coverDiv.style.position="absolute";var e=this.target.getClientRects().item(0).y>_.settings.toolbarHeight?this.target.offsetTop-_.settings.toolbarHeight:0;this.coverDiv.style.top=e+"px",this.coverDiv.style.left=this.target.offsetLeft.toString()+"px",this.coverDiv.style.width=this.target.offsetWidth.toString()+"px",this.coverDiv.style.zIndex=this.uiStyleSettings.zIndex!==void 0?this.uiStyleSettings.zIndex:"5";break;case"popup":this.coverDiv.style.position="absolute",this.coverDiv.style.top="0px",this.coverDiv.style.left="0px",this.coverDiv.style.width="100vw",this.coverDiv.style.height=window.innerHeight+"px",this.coverDiv.style.backgroundColor="rgba(0, 0, 0, 0.75)",this.coverDiv.style.zIndex=this.uiStyleSettings.zIndex!==void 0?this.uiStyleSettings.zIndex:"1000",this.coverDiv.style.display="flex"}this.targetRoot.appendChild(this.coverDiv),this.uiDiv=document.createElement("div"),this.uiDiv.style.display="flex",this.uiDiv.style.flexDirection="column",this.uiDiv.style.flexGrow="2",this.uiDiv.style.margin=this.settings.displayMode==="popup"?this.settings.popupMargin+"px":"0px",this.uiDiv.style.border="0px",this.coverDiv.appendChild(this.uiDiv),this.toolbar=new El(this.uiDiv,this.settings.displayMode,this._availableMarkerTypes,this.uiStyleSettings),this.toolbar.addButtonClickListener(this.toolbarButtonClicked),this.toolbar.show(this._silentRenderMode||this.uiStyleSettings.hideToolbar?"hidden":"visible"),this.contentDiv=document.createElement("div"),this.contentDiv.style.display="flex",this.contentDiv.style.flexDirection="row",this.contentDiv.style.flexGrow="2",this.contentDiv.style.flexShrink="1",this.settings.displayMode==="popup"&&(this.contentDiv.style.backgroundColor=this.uiStyleSettings.canvasBackgroundColor,this.contentDiv.style.maxHeight=this.windowHeight-2*this.settings.popupMargin-3.5*this.uiStyleSettings.toolbarHeight+"px",this.contentDiv.style.maxWidth="calc(100vw - "+2*this.settings.popupMargin+"px)"),this.contentDiv.style.overflow="auto",this.uiDiv.appendChild(this.contentDiv),this.editorCanvas=document.createElement("div"),this.editorCanvas.style.flexGrow="2",this.editorCanvas.style.flexShrink="1",this.editorCanvas.style.position="relative",this.editorCanvas.style.overflow="hidden",this.editorCanvas.style.display="flex",this.settings.displayMode==="popup"&&(this.editorCanvas.style.alignItems="center",this.editorCanvas.style.justifyContent="center"),this.editorCanvas.style.pointerEvents="none",this.editorCanvas.style.transformOrigin="left top",this.editorCanvas.style.transform="scale("+this.zoomLevel+")",this.contentDiv.appendChild(this.editorCanvas),this.editingTarget=this.target instanceof HTMLImageElement?document.createElement("img"):document.createElement("canvas"),this.target.getClientRects().item(0).y<_.settings.toolbarHeight&&(this.editingTarget.style.marginTop=this.target.offsetTop-_.settings.toolbarHeight+"px"),this.editorCanvas.appendChild(this.editingTarget),this.toolbox=new Ml(this.uiDiv,this.settings.displayMode,this.uiStyleSettings),this.toolbox.show(this._silentRenderMode||this.uiStyleSettings.hideToolbox?"hidden":"visible")},t.prototype.closeUI=function(){this.settings.displayMode==="popup"&&this.restoreOverflow(),this.targetRoot.removeChild(this.coverDiv)},t.prototype.removeMarker=function(e){this.markerImage.removeChild(e.container),this.markers.indexOf(e)>-1&&this.markers.splice(this.markers.indexOf(e),1),e.dispose()},t.prototype.switchToSelectMode=function(){this.mode="select",this.hideNotesEditor(),this.currentMarker!==void 0&&(this.currentMarker.state!=="new"?this.currentMarker.select():(this.removeMarker(this.currentMarker),this.setCurrentMarker(),this.markerImage.style.cursor="default"),this.addUndoStep())},t.prototype.toolbarButtonClicked=function(e,i){if(e==="marker"&&i!==void 0)this.createNewMarker(i);else if(e==="action")switch(i){case"select":this.switchToSelectMode();break;case"delete":this.deleteSelectedMarker();break;case"clear":this.clear();break;case"undo":this.switchToSelectMode(),this.addUndoStep(),this.undo();break;case"redo":this.switchToSelectMode(),this.redo();break;case"zoom":this.stepZoom();break;case"zoom-out":this.zoomLevel=1;break;case"notes":this.notesArea===void 0?(this.switchToSelectMode(),this.zoomLevel=1,this.showNotesEditor()):this.switchToSelectMode();break;case"close":this.close();break;case"render":this.switchToSelectMode(),this.startRenderAndClose()}},t.prototype.deleteSelectedMarker=function(){var e=this;if(this.currentMarker!==void 0){var i=!1;if(this.eventListeners.markerbeforedelete.forEach(function(r){var s=new ce(e,e.currentMarker,!0);r(s),s.defaultPrevented&&(i=!0)}),!i){var o=this.currentMarker;this.currentMarker.dispose(),this.markerImage.removeChild(this.currentMarker.container),this.markers.splice(this.markers.indexOf(this.currentMarker),1),this.setCurrentMarker(),this.addUndoStep(),this.eventListeners.markerdelete.forEach(function(r){return r(new ce(e,o))})}}},t.prototype.clear=function(){this.setCurrentMarker();for(var e=this.markers.length-1;e>=0;e--)this.setCurrentMarker(this.markers[e]),this.currentMarker.dispose(),this.markerImage.removeChild(this.currentMarker.container),this.markers.splice(this.markers.indexOf(this.currentMarker),1);this.addUndoStep()},Object.defineProperty(t.prototype,"isNotesAreaOpen",{get:function(){return this.notesArea!==void 0},enumerable:!1,configurable:!0}),t.prototype.showNotesEditor=function(){var e;this.currentMarker!==void 0&&(this.overlayContainer.innerHTML="",this.notesArea=document.createElement("textarea"),this.notesArea.className=this.uiStyleSettings.notesAreaStyleClassName,this.notesArea.style.pointerEvents="auto",this.notesArea.style.alignSelf="stretch",this.notesArea.style.width="100%",this.notesArea.style.margin=this.uiStyleSettings.toolbarHeight/4+"px",this.notesArea.value=(e=this.currentMarker.notes)!==null&&e!==void 0?e:"",this.overlayContainer.appendChild(this.notesArea))},t.prototype.hideNotesEditor=function(){this.isNotesAreaOpen&&(this.currentMarker!==void 0&&(this.currentMarker.notes=this.notesArea.value.trim()!==""?this.notesArea.value:void 0),this.overlayContainer.removeChild(this.notesArea),this.notesArea=void 0)},t.prototype.selectLastMarker=function(){this.markers.length>0&&this.setCurrentMarker(this.markers[this.markers.length-1])},t.prototype.addUndoStep=function(){this.currentMarker!==void 0&&this.currentMarker.state==="edit"||this.undoRedoManager.addUndoStep(this.getState())},t.prototype.undo=function(){var e=this.undoRedoManager.undo();e!==void 0&&(this.restoreState(e),this.selectLastMarker())},t.prototype.redo=function(){var e=this.undoRedoManager.redo();e!==void 0&&(this.restoreState(e),this.selectLastMarker())},t.prototype.stepZoom=function(){var e=this.zoomSteps.indexOf(this.zoomLevel);this.zoomLevel=e<this.zoomSteps.length-1?this.zoomSteps[e+1]:this.zoomSteps[0]},t.prototype.panTo=function(e){this.contentDiv.scrollBy({left:this.prevPanPoint.x-e.x,top:this.prevPanPoint.y-e.y}),this.prevPanPoint=e},t.prototype.startRenderAndClose=function(){return zo(this,void 0,void 0,function(){var e,i,o=this;return Vo(this,function(r){switch(r.label){case 0:return[4,this.render()];case 1:return e=r.sent(),i=this.getState(),this.eventListeners.render.forEach(function(s){return s(new Il(o,e,i))}),this.close(!0),[2]}})})},t.prototype.getState=function(e){e===!0&&this.setCurrentMarker();var i={width:this.imageWidth,height:this.imageHeight,markers:[]};return this.markers.forEach(function(o){return i.markers.push(o.getState())}),i},t.prototype.restoreState=function(e){var i=this;for(this.markers.splice(0);this.markerImage.lastChild;)this.markerImage.removeChild(this.markerImage.lastChild);e.markers.forEach(function(o){var r=i._availableMarkerTypes.find(function(n){return n.typeName===o.typeName});if(r!==void 0){var s=i.addNewMarker(r);s.restoreState(o),i.markers.push(s)}}),e.width&&e.height&&(e.width!==this.imageWidth||e.height!==this.imageHeight)&&this.scaleMarkers(this.imageWidth/e.width,this.imageHeight/e.height),this.eventListeners.restorestate.forEach(function(o){return o(new jt(i))})},t.prototype.addNewMarker=function(e){var i=k.createGroup();return this.markerImage.appendChild(i),new e(i,this.overlayContainer,this.settings)},t.prototype.createNewMarker=function(e){var i,o=this;(i=typeof e=="string"?this._availableMarkerTypes.find(function(r){return r.typeName===e}):e)&&(this.setCurrentMarker(),this.currentMarker=this.addNewMarker(i),this.currentMarker.onMarkerCreated=this.markerCreated,this.currentMarker.onColorChanged=this.colorChanged,this.currentMarker.onFillColorChanged=this.fillColorChanged,this.markerImage.style.cursor="crosshair",this.toolbar.setActiveMarkerButton(i.typeName),this.toolbox.setPanelButtons(this.currentMarker.toolboxPanels),this.eventListeners.markercreating.forEach(function(r){return r(new ce(o,o.currentMarker))}))},t.prototype.markerCreated=function(e){var i=this;this.mode="select",this.markerImage.style.cursor="default",this.markers.push(e),this.setCurrentMarker(e),e instanceof Me&&this.settings.newFreehandMarkerOnPointerUp?this.createNewMarker(Me):this.toolbar.setSelectMode(),this.addUndoStep(),this.eventListeners.markercreate.forEach(function(o){return o(new ce(i,i.currentMarker))})},t.prototype.colorChanged=function(e){this.settings.defaultColorsFollowCurrentColors&&(this.settings.defaultColor=e,this.settings.defaultStrokeColor=e)},t.prototype.fillColorChanged=function(e){this.settings.defaultColorsFollowCurrentColors&&(this.settings.defaultFillColor=e)},t.prototype.setCurrentMarker=function(e){var i=this;this.currentMarker!==e&&this.currentMarker!==void 0&&(this.currentMarker.deselect(),this.toolbar.setCurrentMarker(),this.toolbox.setPanelButtons([]),this.eventListeners.markerdeselect.forEach(function(o){return o(new ce(i,i.currentMarker))})),this.currentMarker=e,this.currentMarker===void 0||this.currentMarker.isSelected||(this.currentMarker.select(),this.toolbar.setCurrentMarker(this.currentMarker),this.toolbox.setPanelButtons(this.currentMarker.toolboxPanels),this.eventListeners.markerselect.forEach(function(o){return o(new ce(i,i.currentMarker))}))},t.prototype.onPointerDown=function(e){if(this._isFocused||this.focus(),this.touchPoints++,this.touchPoints===1||e.pointerType!=="touch")if(this.currentMarker===void 0||this.currentMarker.state!=="new"&&this.currentMarker.state!=="creating"){if(this.mode==="select"){var i=this.markers.find(function(o){return o.ownsTarget(e.target)});i!==void 0?(this.setCurrentMarker(i),this.isDragging=!0,this.currentMarker.pointerDown(this.clientToLocalCoordinates(e.clientX,e.clientY),e.target)):(this.setCurrentMarker(),this.isDragging=!0,this.prevPanPoint={x:e.clientX,y:e.clientY})}}else this.isDragging=!0,this.currentMarker.pointerDown(this.clientToLocalCoordinates(e.clientX,e.clientY))},t.prototype.onDblClick=function(e){if(this._isFocused||this.focus(),this.mode==="select"){var i=this.markers.find(function(o){return o.ownsTarget(e.target)});i!==void 0&&i!==this.currentMarker&&this.setCurrentMarker(i),this.currentMarker!==void 0?this.currentMarker.dblClick(this.clientToLocalCoordinates(e.clientX,e.clientY),e.target):this.setCurrentMarker()}},t.prototype.onPointerMove=function(e){this.touchPoints!==1&&e.pointerType==="touch"||(this.currentMarker!==void 0||this.isDragging)&&(this.currentMarker!==void 0&&this.currentMarker.state==="edit"||e.preventDefault(),this.currentMarker!==void 0?this.currentMarker.manipulate(this.clientToLocalCoordinates(e.clientX,e.clientY)):this.zoomLevel>1&&this.panTo({x:e.clientX,y:e.clientY}))},t.prototype.onPointerUp=function(e){this.touchPoints>0&&this.touchPoints--,this.touchPoints===0&&this.isDragging&&this.currentMarker!==void 0&&this.currentMarker.pointerUp(this.clientToLocalCoordinates(e.clientX,e.clientY)),this.isDragging=!1,this.addUndoStep()},t.prototype.onPointerOut=function(){this.touchPoints>0&&this.touchPoints--},t.prototype.onKeyUp=function(e){this.currentMarker===void 0||this.notesArea!==void 0||e.key!=="Delete"&&e.key!=="Backspace"||this.deleteSelectedMarker()},t.prototype.clientToLocalCoordinates=function(e,i){var o=this.markerImage.getBoundingClientRect();return{x:(e-o.left)/this.zoomLevel,y:(i-o.top)/this.zoomLevel}},t.prototype.onWindowResize=function(){this.positionUI()},t.prototype.positionUI=function(){switch(this.setTopLeft(),this.settings.displayMode){case"inline":var e=this.target.offsetTop>_.settings.toolbarHeight?this.target.offsetTop-_.settings.toolbarHeight:0;this.coverDiv.style.top=e+"px",this.coverDiv.style.left=this.target.offsetLeft.toString()+"px";break;case"popup":this.coverDiv.style.top="0px",this.coverDiv.style.left="0px",this.coverDiv.style.width="100vw",this.coverDiv.style.height=this.windowHeight+"px",this.contentDiv.style.maxHeight=this.windowHeight-2*this.settings.popupMargin-3.5*this.uiStyleSettings.toolbarHeight+"px"}this.positionMarkerImage(),this.positionLogo()},t.prototype.addLicenseKey=function(e){Go.addKey(e)},t.prototype.addEventListener=function(e,i){this.eventListeners.addEventListener(e,i)},t.prototype.removeEventListener=function(e,i){this.eventListeners.removeEventListener(e,i)},t.prototype.renderState=function(e){this._silentRenderMode=!0,this.settings.displayMode="inline",this.isOpen||this.show(),this.restoreState(e),this.startRenderAndClose(),this._silentRenderMode=!1},Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},enumerable:!1,configurable:!0}),t.prototype.focus=function(){var e=this;this._isFocused||(this.attachWindowEvents(),this._isFocused=!0,this._previousCurrentMarker!==void 0&&this.setCurrentMarker(this._previousCurrentMarker),this.eventListeners.focus.forEach(function(i){return i(new jt(e))}))},t.prototype.blur=function(){var e=this;this._isFocused&&(this.detachWindowEvents(),this._isFocused=!1,this._previousCurrentMarker=this.currentMarker,this.setCurrentMarker(),this.eventListeners.blur.forEach(function(i){return i(new jt(e))}))},t}(),xi=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Hi={exports:{}};/*!
 * Platform.js v1.3.6
 * Copyright 2014-2020 Benjamin Tan
 * Copyright 2011-2013 John-David Dalton
 * Available under MIT license
 */(function(t,e){(function(){var i={function:!0,object:!0},o=i[typeof window]&&window||this,r=e,s=t&&!t.nodeType&&t,n=r&&s&&typeof xi=="object"&&xi;n&&(n.global===n||n.window===n||n.self===n)&&(o=n);var a=Math.pow(2,53)-1,c=/\bOpera/,f=Object.prototype,g=f.hasOwnProperty,b=f.toString;function w(y){return y=String(y),y.charAt(0).toUpperCase()+y.slice(1)}function I(y,D,H){var K={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return D&&H&&/^Win/i.test(y)&&!/^Windows Phone /i.test(y)&&(K=K[/[\d.]+$/.exec(y)])&&(y="Windows "+K),y=String(y),D&&H&&(y=y.replace(RegExp(D,"i"),H)),y=j(y.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),y}function G(y,D){var H=-1,K=y?y.length:0;if(typeof K=="number"&&K>-1&&K<=a)for(;++H<K;)D(y[H],H,y);else R(y,D)}function j(y){return y=ot(y),/^(?:webOS|i(?:OS|P))/.test(y)?y:w(y)}function R(y,D){for(var H in y)g.call(y,H)&&D(y[H],H,y)}function z(y){return y==null?w(y):b.call(y).slice(8,-1)}function ft(y,D){var H=y!=null?typeof y[D]:"number";return!/^(?:boolean|number|string|undefined)$/.test(H)&&(H=="object"?!!y[D]:!0)}function $(y){return String(y).replace(/([ -])(?!$)/g,"$1?")}function q(y,D){var H=null;return G(y,function(K,rt){H=D(H,K,rt,y)}),H}function ot(y){return String(y).replace(/^ +| +$/g,"")}function Ct(y){var D=o,H=y&&typeof y=="object"&&z(y)!="String";H&&(D=y,y=null);var K=D.navigator||{},rt=K.userAgent||"";y||(y=rt);var Wt=H?!!K.likeChrome:/\bChrome\b/.test(y)&&!/internal|\n/i.test(b.toString()),le="Object",we=H?le:"ScriptBridgingProxyObject",nt=H?le:"Environment",tt=H&&D.java?"JavaPackage":z(D.java),J=H?le:"RuntimeObject",ct=/\bJava/.test(tt)&&D.java,ke=ct&&z(D.environment)==nt,Yt=ct?"a":"\u03B1",Ht=ct?"b":"\u03B2",xt=D.document||{},kt=D.operamini||D.opera,ae=c.test(ae=H&&kt?kt["[[Class]]"]:z(kt))?ae:kt=null,p,gt=y,N=[],$t=null,ut=y==rt,T=ut&&kt&&typeof kt.version=="function"&&kt.version(),qt,h=x([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),l=C(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),d=v([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),m=E({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),u=S(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function x(P){return q(P,function(A,O){return A||RegExp("\\b"+(O.pattern||$(O))+"\\b","i").exec(y)&&(O.label||O)})}function E(P){return q(P,function(A,O,W){return A||(O[d]||O[/^[a-z]+(?: +[a-z]+\b)*/i.exec(d)]||RegExp("\\b"+$(W)+"(?:\\b|\\w*\\d)","i").exec(y))&&W})}function C(P){return q(P,function(A,O){return A||RegExp("\\b"+(O.pattern||$(O))+"\\b","i").exec(y)&&(O.label||O)})}function S(P){return q(P,function(A,O){var W=O.pattern||$(O);return!A&&(A=RegExp("\\b"+W+"(?:/[\\d.]+|[ \\w.]*)","i").exec(y))&&(A=I(A,W,O.label||O)),A})}function v(P){return q(P,function(A,O){var W=O.pattern||$(O);return!A&&(A=RegExp("\\b"+W+" *\\d+[.\\w_]*","i").exec(y)||RegExp("\\b"+W+" *\\w+-[\\w]*","i").exec(y)||RegExp("\\b"+W+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(y))&&((A=String(O.label&&!RegExp(W,"i").test(O.label)?O.label:A).split("/"))[1]&&!/[\d.]+/.test(A[0])&&(A[0]+=" "+A[1]),O=O.label||O,A=j(A[0].replace(RegExp(W,"i"),O).replace(RegExp("; *(?:"+O+"[_-])?","i")," ").replace(RegExp("("+O+")[-_.]?(\\w)","i"),"$1 $2"))),A})}function L(P){return q(P,function(A,O){return A||(RegExp(O+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(y)||0)[1]||null})}function B(){return this.description||""}if(h&&(h=[h]),/\bAndroid\b/.test(u)&&!d&&(p=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(y))&&(d=ot(p[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),m&&!d?d=v([m]):m&&d&&(d=d.replace(RegExp("^("+$(m)+")[-_.\\s]","i"),m+" ").replace(RegExp("^("+$(m)+")[-_.]?(\\w)","i"),m+" $2")),(p=/\bGoogle TV\b/.exec(d))&&(d=p[0]),/\bSimulator\b/i.test(y)&&(d=(d?d+" ":"")+"Simulator"),l=="Opera Mini"&&/\bOPiOS\b/.test(y)&&N.push("running in Turbo/Uncompressed mode"),l=="IE"&&/\blike iPhone OS\b/.test(y)?(p=Ct(y.replace(/like iPhone OS/,"")),m=p.manufacturer,d=p.product):/^iP/.test(d)?(l||(l="Safari"),u="iOS"+((p=/ OS ([\d_]+)/i.exec(y))?" "+p[1].replace(/_/g,"."):"")):l=="Konqueror"&&/^Linux\b/i.test(u)?u="Kubuntu":m&&m!="Google"&&(/Chrome/.test(l)&&!/\bMobile Safari\b/i.test(y)||/\bVita\b/.test(d))||/\bAndroid\b/.test(u)&&/^Chrome/.test(l)&&/\bVersion\//i.test(y)?(l="Android Browser",u=/\bAndroid\b/.test(u)?u:"Android"):l=="Silk"?(/\bMobi/i.test(y)||(u="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(y)&&N.unshift("accelerated")):l=="UC Browser"&&/\bUCWEB\b/.test(y)?N.push("speed mode"):l=="PaleMoon"&&(p=/\bFirefox\/([\d.]+)\b/.exec(y))?N.push("identifying as Firefox "+p[1]):l=="Firefox"&&(p=/\b(Mobile|Tablet|TV)\b/i.exec(y))?(u||(u="Firefox OS"),d||(d=p[1])):!l||(p=!/\bMinefield\b/i.test(y)&&/\b(?:Firefox|Safari)\b/.exec(l))?(l&&!d&&/[\/,]|^[^(]+?\)/.test(y.slice(y.indexOf(p+"/")+8))&&(l=null),(p=d||m||u)&&(d||m||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(u))&&(l=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(u)?u:p)+" Browser")):l=="Electron"&&(p=(/\bChrome\/([\d.]+)\b/.exec(y)||0)[1])&&N.push("Chromium "+p),T||(T=L(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",$(l),"(?:Firefox|Minefield|NetFront)"])),(p=h=="iCab"&&parseFloat(T)>3&&"WebKit"||/\bOpera\b/.test(l)&&(/\bOPR\b/.test(y)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(y)&&!/^(?:Trident|EdgeHTML)$/.test(h)&&"WebKit"||!h&&/\bMSIE\b/i.test(y)&&(u=="Mac OS"?"Tasman":"Trident")||h=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(l)&&"NetFront")&&(h=[p]),l=="IE"&&(p=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(y)||0)[1])?(l+=" Mobile",u="Windows Phone "+(/\+$/.test(p)?p:p+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(y)?(l="IE Mobile",u="Windows Phone 8.x",N.unshift("desktop mode"),T||(T=(/\brv:([\d.]+)/.exec(y)||0)[1])):l!="IE"&&h=="Trident"&&(p=/\brv:([\d.]+)/.exec(y))&&(l&&N.push("identifying as "+l+(T?" "+T:"")),l="IE",T=p[1]),ut){if(ft(D,"global"))if(ct&&(p=ct.lang.System,gt=p.getProperty("os.arch"),u=u||p.getProperty("os.name")+" "+p.getProperty("os.version")),ke){try{T=D.require("ringo/engine").version.join("."),l="RingoJS"}catch{(p=D.system)&&p.global.system==D.system&&(l="Narwhal",u||(u=p[0].os||null))}l||(l="Rhino")}else typeof D.process=="object"&&!D.process.browser&&(p=D.process)&&(typeof p.versions=="object"&&(typeof p.versions.electron=="string"?(N.push("Node "+p.versions.node),l="Electron",T=p.versions.electron):typeof p.versions.nw=="string"&&(N.push("Chromium "+T,"Node "+p.versions.node),l="NW.js",T=p.versions.nw)),l||(l="Node.js",gt=p.arch,u=p.platform,T=/[\d.]+/.exec(p.version),T=T?T[0]:null));else z(p=D.runtime)==we?(l="Adobe AIR",u=p.flash.system.Capabilities.os):z(p=D.phantom)==J?(l="PhantomJS",T=(p=p.version||null)&&p.major+"."+p.minor+"."+p.patch):typeof xt.documentMode=="number"&&(p=/\bTrident\/(\d+)/i.exec(y))?(T=[T,xt.documentMode],(p=+p[1]+4)!=T[1]&&(N.push("IE "+T[1]+" mode"),h&&(h[1]=""),T[1]=p),T=l=="IE"?String(T[1].toFixed(1)):T[0]):typeof xt.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(l)&&(N.push("masking as "+l+" "+T),l="IE",T="11.0",h=["Trident"],u="Windows");u=u&&j(u)}if(T&&(p=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(T)||/(?:alpha|beta)(?: ?\d)?/i.exec(y+";"+(ut&&K.appMinorVersion))||/\bMinefield\b/i.test(y)&&"a")&&($t=/b/i.test(p)?"beta":"alpha",T=T.replace(RegExp(p+"\\+?$"),"")+($t=="beta"?Ht:Yt)+(/\d+\+?/.exec(p)||"")),l=="Fennec"||l=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(u))l="Firefox Mobile";else if(l=="Maxthon"&&T)T=T.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(d))d=="Xbox 360"&&(u=null),d=="Xbox 360"&&/\bIEMobile\b/.test(y)&&N.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(l)||l&&!d&&!/Browser|Mobi/.test(l))&&(u=="Windows CE"||/Mobi/i.test(y)))l+=" Mobile";else if(l=="IE"&&ut)try{D.external===null&&N.unshift("platform preview")}catch{N.unshift("embedded")}else(/\bBlackBerry\b/.test(d)||/\bBB10\b/.test(y))&&(p=(RegExp(d.replace(/ +/g," *")+"/([.\\d]+)","i").exec(y)||0)[1]||T)?(p=[p,/BB10/.test(y)],u=(p[1]?(d=null,m="BlackBerry"):"Device Software")+" "+p[0],T=null):this!=R&&d!="Wii"&&(ut&&kt||/Opera/.test(l)&&/\b(?:MSIE|Firefox)\b/i.test(y)||l=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(u)||l=="IE"&&(u&&!/^Win/.test(u)&&T>5.5||/\bWindows XP\b/.test(u)&&T>8||T==8&&!/\bTrident\b/.test(y)))&&!c.test(p=Ct.call(R,y.replace(c,"")+";"))&&p.name&&(p="ing as "+p.name+((p=p.version)?" "+p:""),c.test(l)?(/\bIE\b/.test(p)&&u=="Mac OS"&&(u=null),p="identify"+p):(p="mask"+p,ae?l=j(ae.replace(/([a-z])([A-Z])/g,"$1 $2")):l="Opera",/\bIE\b/.test(p)&&(u=null),ut||(T=null)),h=["Presto"],N.push(p));(p=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(y)||0)[1])&&(p=[parseFloat(p.replace(/\.(\d)$/,".0$1")),p],l=="Safari"&&p[1].slice(-1)=="+"?(l="WebKit Nightly",$t="alpha",T=p[1].slice(0,-1)):(T==p[1]||T==(p[2]=(/\bSafari\/([\d.]+\+?)/i.exec(y)||0)[1]))&&(T=null),p[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(y)||0)[1],p[0]==537.36&&p[2]==537.36&&parseFloat(p[1])>=28&&h=="WebKit"&&(h=["Blink"]),!ut||!Wt&&!p[1]?(h&&(h[1]="like Safari"),p=(p=p[0],p<400?1:p<500?2:p<526?3:p<533?4:p<534?"4+":p<535?5:p<537?6:p<538?7:p<601?8:p<602?9:p<604?10:p<606?11:p<608?12:"12")):(h&&(h[1]="like Chrome"),p=p[1]||(p=p[0],p<530?1:p<532?2:p<532.05?3:p<533?4:p<534.03?5:p<534.07?6:p<534.1?7:p<534.13?8:p<534.16?9:p<534.24?10:p<534.3?11:p<535.01?12:p<535.02?"13+":p<535.07?15:p<535.11?16:p<535.19?17:p<536.05?18:p<536.1?19:p<537.01?20:p<537.11?"21+":p<537.13?23:p<537.18?24:p<537.24?25:p<537.36?26:h!="Blink"?"27":"28")),h&&(h[1]+=" "+(p+=typeof p=="number"?".x":/[.+]/.test(p)?"":"+")),l=="Safari"&&(!T||parseInt(T)>45)?T=p:l=="Chrome"&&/\bHeadlessChrome/i.test(y)&&N.unshift("headless")),l=="Opera"&&(p=/\bzbov|zvav$/.exec(u))?(l+=" ",N.unshift("desktop mode"),p=="zvav"?(l+="Mini",T=null):l+="Mobile",u=u.replace(RegExp(" *"+p+"$"),"")):l=="Safari"&&/\bChrome\b/.exec(h&&h[1])?(N.unshift("desktop mode"),l="Chrome Mobile",T=null,/\bOS X\b/.test(u)?(m="Apple",u="iOS 4.3+"):u=null):/\bSRWare Iron\b/.test(l)&&!T&&(T=L("Chrome")),T&&T.indexOf(p=/[\d.]+$/.exec(u))==0&&y.indexOf("/"+p+"-")>-1&&(u=ot(u.replace(p,""))),u&&u.indexOf(l)!=-1&&!RegExp(l+" OS").test(u)&&(u=u.replace(RegExp(" *"+$(l)+" *"),"")),h&&!/\b(?:Avant|Nook)\b/.test(l)&&(/Browser|Lunascape|Maxthon/.test(l)||l!="Safari"&&/^iOS/.test(u)&&/\bSafari\b/.test(h[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(l)&&h[1])&&(p=h[h.length-1])&&N.push(p),N.length&&(N=["("+N.join("; ")+")"]),m&&d&&d.indexOf(m)<0&&N.push("on "+m),d&&N.push((/^on /.test(N[N.length-1])?"":"on ")+d),u&&(p=/ ([\d.+]+)$/.exec(u),qt=p&&u.charAt(u.length-p[0].length-1)=="/",u={architecture:32,family:p&&!qt?u.replace(p[0],""):u,version:p?p[1]:null,toString:function(){var P=this.version;return this.family+(P&&!qt?" "+P:"")+(this.architecture==64?" 64-bit":"")}}),(p=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(gt))&&!/\bi686\b/i.test(gt)?(u&&(u.architecture=64,u.family=u.family.replace(RegExp(" *"+p),"")),l&&(/\bWOW64\b/i.test(y)||ut&&/\w(?:86|32)$/.test(K.cpuClass||K.platform)&&!/\bWin64; x64\b/i.test(y))&&N.unshift("32-bit")):u&&/^OS X/.test(u.family)&&l=="Chrome"&&parseFloat(T)>=39&&(u.architecture=64),y||(y=null);var M={};return M.description=y,M.layout=h&&h[0],M.manufacturer=m,M.name=l,M.prerelease=$t,M.product=d,M.ua=y,M.version=l&&T,M.os=u||{architecture:null,family:null,version:null,toString:function(){return"null"}},M.parse=Ct,M.toString=B,M.version&&N.unshift(T),M.name&&N.unshift(l),u&&l&&!(u==String(u).split(" ")[0]&&(u==l.split(" ")[0]||d))&&N.push(d?"("+u+")":"on "+u),N.length&&(M.description=N.join(" ")),M}var X=Ct();r&&s?R(X,function(y,D){r[D]=y}):o.platform=X}).call(xi)})(Hi,Hi.exports);var Fl=Hi.exports;export{bi as A,Us as D,co as M,Uo as N,_l as O,Te as P,Wi as R,Me as T,Ci as W,Hl as X,Rs as a,ws as b,Nl as c,se as d,Wl as e,Rl as o,Fl as p,vi as w,Al as z};
